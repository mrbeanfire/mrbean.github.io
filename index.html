<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="豆桑的Blog,关于Python关于学习">
<meta name="keywords" content="MrBean,话唠,Python">
<meta property="og:type" content="website">
<meta property="og:title" content="MrBean">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="MrBean">
<meta property="og:description" content="豆桑的Blog,关于Python关于学习">
<meta property="og:locale" content="zh">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MrBean">
<meta name="twitter:description" content="豆桑的Blog,关于Python关于学习">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>MrBean</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">MrBean</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">豆豆桑</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/21/妙印云面试准备/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MrBean">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MrBean">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/21/妙印云面试准备/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-07-21T18:59:24+08:00">
                2019-07-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="面试前"><a href="#面试前" class="headerlink" title="面试前"></a>面试前</h2><ul>
<li>自我介绍<ul>
<li>如何从别的行业转型到python，机缘巧合erp，敏捷开发python</li>
<li>大概5分钟介绍自己经历</li>
</ul>
</li>
<li>项目经历<ul>
<li>Django、Flask项目</li>
<li>简历上技术点的丰润</li>
<li>基于底层的协议<ul>
<li>TCP/UDP</li>
<li>HTTP/HTTPS</li>
</ul>
</li>
<li>状态保持<ul>
<li>JWToken</li>
<li>cookie</li>
<li>session</li>
</ul>
</li>
<li>Restful设计风格</li>
<li>Git</li>
<li>描述自己写的接口内容</li>
<li>geek自己的blog</li>
</ul>
</li>
</ul>
<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><ul>
<li><p>乐观锁（python第十一天，乐观锁解决资源抢夺</p>
</li>
<li><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Django项目用到<span class="number">5</span>台服务器。部署在<span class="number">2</span>台上面，因为用户量比较少。</span><br><span class="line"></span><br><span class="line">模拟抢购主要解决<span class="number">2</span>个问题：</span><br><span class="line">   <span class="number">1.</span>高并发对数据库产生的压力</span><br><span class="line">    <span class="number">2.</span>竞争状态下如何解决库存的正确减少（<span class="string">"超卖"</span>问题）</span><br><span class="line">对于第一个问题可以使用redis解决，避免对数据库的直接操作较少数据防护的查询压力。</span><br><span class="line"></span><br><span class="line">对于“超卖”项目中使用的是“乐观锁”解决的。</span><br><span class="line"></span><br><span class="line">防止黄牛代刷是个开放题目，下面提供几种思路：</span><br><span class="line"><span class="number">1.</span> 对于一个账号，一次发起多个请求。</span><br><span class="line">   在程序入口处，一个账号只允许接受<span class="number">1</span>个请求，其他请求过滤。实现方案，可以通过Redis这种内存缓存服务，写入一个标志位（只允许<span class="number">1</span>个请求写成功，结合watch的乐观锁的特性），成功写入的则可以继续参加。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 对于账号一次发送多个请求</span><br><span class="line">    可以检测机器的ip发送请求的频率，假如某个固定ip的频率特别高，就弹出验证码来减少请求的频率。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">乐观锁的实现原理：</span><br><span class="line">     每次去拿数据的时候都认为别人不会修改，所以不会上锁，但是在更新的时候会判断一下在此期间别人有没有去更新这个数据。</span><br><span class="line">实现方式：可以在数据表中添加一个冗余字段，比如时间戳，在更新提交的时候检查当前数据库中数据的时间戳和自己更新前取到的时间戳进行对比，如果一致则OK，否则就是版本冲突 。</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Django"><a href="#Django" class="headerlink" title="Django"></a>Django</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>三个表把指定的内容拿到filter</span><br><span class="line"><span class="number">2.</span>接口调用（加上自己的想法</span><br><span class="line"><span class="number">3.</span>针对简历上的知识点复习</span><br><span class="line"><span class="number">4.</span>序列化器</span><br><span class="line"><span class="number">5.</span>restful风格</span><br><span class="line"><span class="number">6.</span>实际开发中遇到的bug，坑</span><br></pre></td></tr></table></figure>

<h2 id="为什么从上家公司离职"><a href="#为什么从上家公司离职" class="headerlink" title="为什么从上家公司离职"></a>为什么从上家公司离职</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">离家远</span><br></pre></td></tr></table></figure>

<h2 id="对加班如何看待"><a href="#对加班如何看待" class="headerlink" title="对加班如何看待"></a>对加班如何看待</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">做好自己的任务，没做好就责无旁贷加班</span><br></pre></td></tr></table></figure>

<h2 id="上网的步骤"><a href="#上网的步骤" class="headerlink" title="上网的步骤"></a>上网的步骤</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 描述用浏览器访问 www.baidu.com 的过程(2018-4-16-lxy)</span></span><br><span class="line"><span class="number">1.</span>用户输入网址.</span><br><span class="line"><span class="number">2.</span>浏览器请求DNS服务器, 获取域名对应的IP地址.</span><br><span class="line"><span class="number">3.</span>请求连接该IP地址服务器.</span><br><span class="line"><span class="number">4.</span>发送资源请求. (HTTP协议)</span><br><span class="line"><span class="number">5.</span>web服务器接收到请求, 并解析请求, 判断用户意图.</span><br><span class="line"><span class="number">6.</span>获取用户想要的资源.</span><br><span class="line"><span class="number">7.</span>将资源返回给web服务器程序.</span><br><span class="line"><span class="number">8.</span>web服务器程序将资源数据通过网络发送给浏览器.</span><br><span class="line"><span class="number">9.</span>浏览器解析请求的数据并且完成网页数据的显示.</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/20/复习Django/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MrBean">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MrBean">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/20/复习Django/" itemprop="url">Django复习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-06-20T18:15:37+08:00">
                2019-06-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/自学/" itemprop="url" rel="index">
                    <span itemprop="name">自学</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Django框架"><a href="#Django框架" class="headerlink" title="Django框架"></a>Django框架</h2><h4 id="01-使用Django框架创建项目和子应用的基本步骤和项目初始文件的作用"><a href="#01-使用Django框架创建项目和子应用的基本步骤和项目初始文件的作用" class="headerlink" title="01-使用Django框架创建项目和子应用的基本步骤和项目初始文件的作用"></a>01-使用Django框架创建项目和子应用的基本步骤和项目初始文件的作用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">创建项目的步骤:</span><br><span class="line">    <span class="number">1.</span>安装Django的包「pip install django」</span><br><span class="line">    <span class="number">2.</span>通过django-admin命令创建项目文件夹「django-admin startproject ProjectDirName」</span><br><span class="line">    <span class="number">3.</span>切换到项目文件夹内「cd ProjectDirName」</span><br><span class="line">    <span class="number">4.</span>通过django-admin命令创建应用文件夹「django-admin startapp AppDirName」</span><br><span class="line"></span><br><span class="line">项目初始文件的作用:</span><br><span class="line">    manager.py  项目管理文件,在开发模式下可以通过它启动项目</span><br><span class="line">    项目同名目录下的:</span><br><span class="line">        settings.py  是项目的整体配置文件。</span><br><span class="line">        urls.py      是项目的URL配置文件。</span><br><span class="line">        wsgi.py      是项目与WSGI兼容的Web服务器入口。</span><br></pre></td></tr></table></figure>

<h4 id="02-MVC和Django的MVT"><a href="#02-MVC和Django的MVT" class="headerlink" title="02-MVC和Django的MVT"></a>02-MVC和Django的MVT</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MVC(Model-View-Controller)是一种设计模式，核心是解耦、分工，让不同的代码块之间降低解耦，增强代码的可扩展性和可移植性，实现向后兼容</span><br><span class="line">    M-Model：模型，负责对数据库层的访问，对数据库中的数据进行增、删、改、查操作</span><br><span class="line">    V-View：视图，用于封装结果，生成页面展示的html内容</span><br><span class="line">    C-Controller：控制器，用于接受请求，处理业务逻辑，与M、V交互返回结果</span><br><span class="line">    </span><br><span class="line">Django的MVT：</span><br><span class="line">    M-Model：与MVC中的M类似</span><br><span class="line">    V-View：与MVC中的C类似</span><br><span class="line">    T-Template：与MVC中的V类似，封装构造返回html</span><br></pre></td></tr></table></figure>

<h4 id="03-Django的路由"><a href="#03-Django的路由" class="headerlink" title="03-Django的路由"></a>03-Django的路由</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">Django接受到请求，会从主路由urlpatterns列表里<span class="string">'从上而下'</span>查找对应路由，如果发现规则为include，则再进入urls里的urlpatterns里边再从上而下查询 </span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">需要注意定义路由的顺序，避免出现屏蔽效应。</span></span><br><span class="line"><span class="string">访问sayhello路径会优先查找say路径，进入say里边</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">urlpatterns = [</span><br><span class="line">    url(<span class="string">r'^say'</span>, views.say),</span><br><span class="line">    url(<span class="string">r'^sayhello'</span>, views.sayhello),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">路由命名</span><br><span class="line"><span class="number">1.</span>include函数定义时，可以用namespace定义路由命名空间</span><br><span class="line">url(<span class="string">r'^users/'</span>, include(<span class="string">'users.urls'</span>, namespace=<span class="string">'users'</span>)),</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>定义普通路由，用name</span><br><span class="line">urlpatterns = [</span><br><span class="line">    url(<span class="string">r'^index/$'</span>, views.index, name=<span class="string">'index'</span>),</span><br><span class="line">    url(<span class="string">r'^say'</span>, views.say, name=<span class="string">'say'</span>),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">reverse反解析：根据路由名称返回具体路径</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> reverse  <span class="comment"># 注意导包路径</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">"hello the world!"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">say</span><span class="params">(request)</span>:</span></span><br><span class="line">    url = reverse(<span class="string">'users:index'</span>)  <span class="comment"># 返回 /users/index/</span></span><br><span class="line">    print(url)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'say'</span>)</span><br><span class="line"></span><br><span class="line">路径结尾斜线</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>带斜线结尾</span><br><span class="line">如果用户输入URL路径没斜线,找不到路由浏览器会自动重定向到带斜线的路由</span><br><span class="line"><span class="number">2.</span>不带斜线结尾</span><br><span class="line">如果用户输入的URL路径有斜线直接报<span class="number">404</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><figcaption><span>Request 参数</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ##### 利用HTTP协议向服务器传参的几种途径</span><br></pre></td></tr></table></figure>

<p>1,提取URL的特定部分，如/weather/beijing/2018，可以在服务器端的路由中用正则表达式截取；<br>2,查询字符串（query string)，形如key1=value1&amp;key2=value2；<br>3,请求体（body）中发送的数据，比如表单数据、json、xml；<br>4,在http报文的头（header）中。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- **URL路径参数**</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">未命名参数按定义顺序传递</span><br><span class="line"># url(r&apos;^weather1/([a-z]+)/(\d&#123;4&#125;)/$&apos;, views.weather),</span><br><span class="line">def weather1(request, city, year):</span><br><span class="line">    &quot;&quot;&quot;读取正则中的组提取的参数&quot;&quot;&quot;</span><br><span class="line">    print(city)</span><br><span class="line">    print(year)</span><br><span class="line">    return HttpResponse(&apos;ok&apos;)</span><br><span class="line"></span><br><span class="line">命名参数按名字传递 # 关键字对上city、year</span><br><span class="line"># url(r&apos;^weather2/(?P&lt;city&gt;[a-z]+)/(?P&lt;year&gt;\d&#123;4&#125;)/$&apos;, views.weather2),</span><br><span class="line">def weather2(request, year, city):</span><br><span class="line">    &quot;&quot;&quot;读取正则中的关键字提取的参数&quot;&quot;&quot;</span><br><span class="line">    print(city)</span><br><span class="line">    print(year)</span><br><span class="line">    return HttpResponse(&apos;ojbk&apos;)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Django中的QueryDict对象</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">HttpRequest对象的属性GET、POST都是QueryDict类型的对象</span><br><span class="line">	GET属性用来获取查询字符串参数</span><br><span class="line">    POST属性用来获取表单类型的请求体数据</span><br><span class="line"></span><br><span class="line">与python字典不同，QueryDict类型的对象用来处理同一个键带有多个值的情况</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>方法get()：根据键获取值</span><br><span class="line">    如果一个键同时拥有多个值将<span class="string">'获取最后一个值'</span></span><br><span class="line">    如果键不存在则返回<span class="string">'None值'</span>，可以设置默认值进行后续处理</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>方法getlist()：根据键获取值，值以列表返回，</span><br><span class="line">    可以获取指定键的<span class="string">'所有值'</span></span><br><span class="line">    如果键不存在则返回<span class="string">'空列表[]'</span>，可以设置默认值进行后续处理</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Django中表单类型的数据如何获取</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">request.POST属性获取</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_body</span><span class="params">(request)</span>:</span></span><br><span class="line">    a = request.POST.get(<span class="string">'a'</span>)</span><br><span class="line">    b = request.POST.get(<span class="string">'b'</span>)</span><br><span class="line">    alist = request.POST.getlist(<span class="string">'a'</span>)</span><br><span class="line">    print(a)</span><br><span class="line">    print(b)</span><br><span class="line">    print(alist)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'OK'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><h5 id="Django中非表单类型的数据如何获取"><a href="#Django中非表单类型的数据如何获取" class="headerlink" title="Django中非表单类型的数据如何获取"></a><strong>Django中非表单类型的数据如何获取</strong></h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">非表单类型的请求体数据，Django无法自动解析，可以通过request.body属性获取最原始的请求体数据，自己按照请求体格式（json、xml）进行解析，request.body返回bytes类型数据</span><br></pre></td></tr></table></figure>

<ul>
<li><h5 id="其他常用HttpRequest对象属性"><a href="#其他常用HttpRequest对象属性" class="headerlink" title="其他常用HttpRequest对象属性"></a>其他常用HttpRequest对象属性</h5></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">META:	     获取请求头headers中的数据，request.META为字典类型。</span><br><span class="line"><span class="string">'method'</span>：	一个字符串，表示请求使用的HTTP方法，常用值包括：<span class="string">'GET'</span>、<span class="string">'POST'</span>。</span><br><span class="line"><span class="string">'user'</span>：	    请求的用户对象。</span><br><span class="line">path：	    一个字符串，表示请求的页面的完整路径，不包含域名和参数部分。</span><br><span class="line">encoding：	一个字符串，表示提交的数据的编码方式。</span><br><span class="line">FILES： 	    一个类似于字典的对象，包含所有的上传文件。</span><br></pre></td></tr></table></figure>

<h4 id="05-响应-Response-参数"><a href="#05-响应-Response-参数" class="headerlink" title="05-响应 Response 参数"></a>05-响应 Response 参数</h4><ul>
<li><strong>HttpResponse类 构造响应对象的三个参数</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">content：表示返回的内容。</span><br><span class="line">content-type：响应体数据类型</span><br><span class="line">status_code：返回的HTTP响应状态码。</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>响应头直接将HttpResponse对象当做字典设置响应头</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">response = HttpResponse()</span><br><span class="line">response[<span class="string">'Itcast'</span>] = <span class="string">'Python'</span>  <span class="comment"># 自定义响应头Itcast, 值为Python</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>若要返回json数据，可以使用JsonResponse来构造响应对象，作用：</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">帮助我们将数据转换为json字符串</span><br><span class="line">设置响应头Content-Type为 application/json</span><br></pre></td></tr></table></figure>

<h4 id="06-Django状态保持"><a href="#06-Django状态保持" class="headerlink" title="06-Django状态保持"></a>06-Django状态保持</h4><ul>
<li><strong>cookie信息的设置与获取</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>通过HttpResponse对象中的set_cookie方法设置cookie</span><br><span class="line"><span class="comment"># HttpResponse.set_cookie(cookie名, value=cookie值, max_age=cookie有效期)</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>通过HttpResponse对象中的request。COOKIES方法读取cookie</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo_view</span><span class="params">(request)</span>:</span></span><br><span class="line">    cookie1 = request.COOKIES.get(<span class="string">'itcast1'</span>) <span class="comment"># request.COOKIES为字典类型</span></span><br><span class="line">    print(cookie1)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'OK'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>session信息的设置与获取</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">之前需要在setting配置设置默认数据库redis	</span><br><span class="line">通过HttpRequest对象的session属性进行会话的读写操作。</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>键值对格式写session </span><br><span class="line"><span class="comment"># request.session['键']=值</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>根据键读取值</span><br><span class="line"><span class="comment"># request.session.get('键',默认值)</span></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>清除所有session，在存储中删除值部分。</span><br><span class="line">request.session.clear()</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>清除session数据，在存储中删除session的整条数据。</span><br><span class="line">request.session.flush()</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>删除session中的指定键及值，在存储中只删除某个键及对应的值。</span><br><span class="line"><span class="keyword">del</span> request.session[<span class="string">'键'</span>]</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>设置session的有效期</span><br><span class="line">request.session.set_expiry(value)</span><br></pre></td></tr></table></figure>

<h4 id="07–函数视图与类视图"><a href="#07–函数视图与类视图" class="headerlink" title="07–函数视图与类视图"></a>07–函数视图与类视图</h4><ul>
<li><strong>函数视图</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">以函数的方式定义的视图称为函数视图，函数视图便于理解。但是遇到一个视图对应的路径提供了多种不同HTTP请求方式的支持时，便需要在一个函数中编写不同的业务逻辑，代码可读性与复用性都不佳。</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">register</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="string">"""处理注册"""</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取请求方法，判断是GET/POST请求</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">'GET'</span>:</span><br><span class="line">        <span class="comment"># 处理GET请求，返回注册页面</span></span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">'register.html'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 处理POST请求，实现注册逻辑</span></span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">'这里实现注册逻辑'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>类视图</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">在Django中也可以使用类来定义一个视图，称为类视图。类视图的基类是Django框架中View类</span><br><span class="line">使用类视图可以将视图对应的不同 请求方式 以类中的不同方法来区别定义。</span><br><span class="line"></span><br><span class="line">类视图的好处：</span><br><span class="line">    代码可读性好</span><br><span class="line">    类视图相对于函数视图有更高的复用性， 如果其他地方需要用到某个类视图的某个特定逻辑，直接继承该类视图即可.</span><br><span class="line"><span class="keyword">from</span> django.views.generic <span class="keyword">import</span> View</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RegisterView</span><span class="params">(View)</span>:</span></span><br><span class="line">    <span class="string">"""类视图：处理注册"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        <span class="string">"""处理GET请求，返回注册页面"""</span></span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">'register.html'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        <span class="string">"""处理POST请求，实现注册逻辑"""</span></span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">'这里实现注册逻辑'</span>)</span><br><span class="line">    </span><br><span class="line">类视图配置路由</span><br><span class="line">urlpatterns = [</span><br><span class="line">    <span class="comment"># 视图函数：注册</span></span><br><span class="line">    <span class="comment"># url(r'^register/$', views.register, name='register'),</span></span><br><span class="line">    <span class="comment"># 类视图：注册 as_view()</span></span><br><span class="line">    url(<span class="string">r'^register/$'</span>, views.RegisterView.as_view(), name=<span class="string">'register'</span>),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">类视图中加装饰器</span><br><span class="line"><span class="number">1.</span>定义好装饰器在路由装饰，但这样是所有请求方法加上装饰器</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_decorator</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(request, *args, **kwargs)</span>:</span></span><br><span class="line">        print(<span class="string">'自定义装饰器被调用了'</span>)</span><br><span class="line">        print(<span class="string">'请求路径%s'</span> % request.path)</span><br><span class="line">        <span class="keyword">return</span> func(request, *args, **kwargs)</span><br><span class="line">    <span class="keyword">return</span> wrappe</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    url(<span class="string">r'^demo/$'</span>, my_decorate(DemoView.as_view()))</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>类视图中装饰</span><br><span class="line"><span class="comment"># 为全部请求方法添加装饰器</span></span><br><span class="line"><span class="meta">@method_decorator(my_decorator, name='dispatch') # name='get'为特定方法添加装饰器</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DemoView</span><span class="params">(View)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        print(<span class="string">'get方法'</span>)</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">'ok'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        print(<span class="string">'post方法'</span>)</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">'ok'</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="number">3.</span>为部分方法添加装饰器</span><br><span class="line"><span class="keyword">from</span> django.utils.decorators <span class="keyword">import</span> method_decorator</span><br><span class="line"><span class="comment"># 为特定请求方法添加装饰器</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DemoView</span><span class="params">(View)</span>:</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @method_decorator(my_decorator)  # 为get方法添加了装饰器</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        print(<span class="string">'get方法'</span>)</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">'ok'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @method_decorator(my_decorator)  # 为post方法添加了装饰器</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        print(<span class="string">'post方法'</span>)</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">'ok'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">put</span><span class="params">(self, request)</span>:</span>  <span class="comment"># 没有为put方法添加装饰器</span></span><br><span class="line">        print(<span class="string">'put方法'</span>)</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">'ok'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="08-中间件（美多商城中跨域问题的解决—视图请求前）"><a href="#08-中间件（美多商城中跨域问题的解决—视图请求前）" class="headerlink" title="08-中间件（美多商城中跨域问题的解决—视图请求前）"></a>08-中间件（美多商城中跨域问题的解决—视图请求前）</h4><ul>
<li><strong>Django中间件的作用</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Django中的中间件是一个轻量级、底层的插件系统，可以介入Django的请求和响应处理过程，修改Django的输入或输出。中间件的设计为开发者提供了一种无侵入式的开发方式，增强了Django框架的健壮性。</span><br><span class="line">我们可以使用中间件，在Django处理视图的不同阶段对输入或输出进行干预。</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>中间件的定义方法</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">定义一个中间件工厂函数，然后返回一个可以别调用的中间件。</span><br><span class="line">中间件工厂函数需要接收一个可以调用的get_response对象。</span><br><span class="line">返回的中间件也是一个可以被调用的对象，并且像视图一样需要接收一个request对象参数，返回一个response对象</span><br></pre></td></tr></table></figure>

<ul>
<li><h5 id="多个中间件的执行顺序"><a href="#多个中间件的执行顺序" class="headerlink" title="多个中间件的执行顺序"></a>多个中间件的执行顺序</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">请求来了：在请求视图被处理前，中间件由上至下依次执行</span><br><span class="line">响应回去：在请求视图被处理后，中间件由下至上依次执行</span><br></pre></td></tr></table></figure>

<h4 id="09-Django中的内置ORM"><a href="#09-Django中的内置ORM" class="headerlink" title="09-Django中的内置ORM"></a>09-Django中的内置ORM</h4><ul>
<li><strong>ORM模块的作用</strong> 类对象-关系-映射</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">O是object，也就类对象的意思，</span><br><span class="line">R是relation，翻译成中文是关系，也就是关系数据库中数据表的意思，</span><br><span class="line">M是mapping，是映射的意思。</span><br><span class="line"></span><br><span class="line">作用:</span><br><span class="line">    <span class="number">1.</span>帮我们把类和数据表进行了一个映射，可以让我们通过类和类对象就能操作它所对应的表格中的数据。</span><br><span class="line">    <span class="number">2.</span>可以根据我们设计的类自动帮我们生成数据库中的表格，省去了我们自己建表的过程。</span><br><span class="line">    </span><br><span class="line">开发步骤：</span><br><span class="line"><span class="number">1.</span>配置数据库连接信息</span><br><span class="line"><span class="number">2.</span>在models.py中定义模型类</span><br><span class="line"><span class="number">3.</span>迁移</span><br><span class="line"><span class="number">4.</span>通过类和对象完成数据增删改查操作</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>定义模型类</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookInfo</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    btitle = models.CharField(max_length=<span class="number">20</span>, verbose_name=<span class="string">'名称'</span>)</span><br><span class="line">    bpub_date = models.DateField(verbose_name=<span class="string">'发布日期'</span>)</span><br><span class="line">    bread = models.IntegerField(default=<span class="number">0</span>, verbose_name=<span class="string">'阅读量'</span>)</span><br><span class="line">    bcomment = models.IntegerField(default=<span class="number">0</span>, verbose_name=<span class="string">'评论量'</span>)</span><br><span class="line">    is_delete = models.BooleanField(default=<span class="literal">False</span>, verbose_name=<span class="string">'逻辑删除'</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span>		<span class="comment"># 元类，导入数据库</span></span><br><span class="line">        db_table = <span class="string">'tb_books'</span>  <span class="comment"># 指明数据库表名</span></span><br><span class="line">        verbose_name = <span class="string">'图书'</span>  <span class="comment"># 在admin站点中显示的名称</span></span><br><span class="line">        verbose_name_plural = verbose_name  <span class="comment"># 显示的复数名称</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""定义每个数据对象的显示信息"""</span></span><br><span class="line">        <span class="keyword">return</span> self.btitle</span><br></pre></td></tr></table></figure>

<ul>
<li><h4 id="数据库操作—增"><a href="#数据库操作—增" class="headerlink" title="数据库操作—增"></a><strong>数据库操作—增</strong></h4></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">增加</span><br><span class="line"><span class="number">1.</span>save()方法</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> date</span><br><span class="line">book = BookInfo(</span><br><span class="line">    btitle=<span class="string">'西游记'</span>,</span><br><span class="line">    bpub_date=date(<span class="number">1988</span>,<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">    bread=<span class="number">10</span>,</span><br><span class="line">    bcomment=<span class="number">10</span></span><br><span class="line">)</span><br><span class="line">book.save()</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>create()方法，模型类.objects.create()保存</span><br><span class="line">HeroInfo.objects.create(</span><br><span class="line">    hname=<span class="string">'沙悟净'</span>,</span><br><span class="line">    hgender=<span class="number">0</span>,</span><br><span class="line">    hbook=book</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>数据库操作—查</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">基本查询</span><br><span class="line"><span class="number">1.</span>get 查询单一结果，如果不存在会抛出模型类.DoesNotExist异常。</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>book = BookInfo.objects.get(btitle=<span class="string">'西游记'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>book.id</span><br><span class="line">	<span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>all 查询多个结果。</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>BookInfo.objects.all()</span><br><span class="line">&lt;QuerySet [&lt;BookInfo: 射雕英雄传&gt;, &lt;BookInfo: 天龙八部&gt;, &lt;BookInfo: 笑傲江湖&gt;, &lt;BookInfo: 雪山飞狐&gt;, &lt;BookInfo: 西游记&gt;]&gt;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>count 查询结果数量。</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>BookInfo.objects.count()</span><br><span class="line">	<span class="number">6</span></span><br><span class="line">	</span><br><span class="line">过滤查询</span><br><span class="line">filter 过滤出多个结果</span><br><span class="line">exclude 排除掉符合条件剩下的结果</span><br><span class="line">get 过滤单一结果</span><br><span class="line"></span><br><span class="line">过滤条件表达语法：</span><br><span class="line">    属性名称__比较运算符=值</span><br><span class="line">    <span class="comment"># 属性名称和比较运算符间使用两个下划线，所以属性名不能包括多个下划线</span></span><br><span class="line"></span><br><span class="line">相等:</span><br><span class="line">BookInfo.objects.filter(id=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">包含：</span><br><span class="line">BookInfo.objects.filter(btitle__contains=<span class="string">'传'</span>)</span><br><span class="line"></span><br><span class="line">以指定值开头或结尾：startswith、endswith</span><br><span class="line">BookInfo.objects.filter(btitle__endswith=<span class="string">'部'</span>)</span><br><span class="line"></span><br><span class="line">空查询</span><br><span class="line">BookInfo.objects.filter(btitle__isnull=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">多项查询</span><br><span class="line">BookInfo.objects.filter(id__in=[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>])</span><br><span class="line"></span><br><span class="line">不等于：exclude()</span><br><span class="line">BookInfo.objects.exclude(id=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">F对象Q对象（了解即可）</span><br><span class="line">BookInfo.objects.filter(bread__gt=F(<span class="string">'bcomment'</span>) * <span class="number">2</span>)</span><br><span class="line">BookInfo.objects.filter(Q(bread__gt=<span class="number">20</span>))</span><br><span class="line"></span><br><span class="line">使用order_by对结果进行排序</span><br><span class="line">BookInfo.objects.all().order_by(<span class="string">'bread'</span>)  <span class="comment"># 升序</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 由一到多的访问语法：</span></span><br><span class="line">b = BookInfo.objects.get(id=<span class="number">1</span>)</span><br><span class="line">b.heroinfo_set.all()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 由多到一的访问语法:</span></span><br><span class="line">h = HeroInfo.objects.get(id=<span class="number">1</span>)</span><br><span class="line">h.hbook</span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问一对应的模型类关联对象的id语法:</span></span><br><span class="line">h = HeroInfo.objects.get(id=<span class="number">1</span>)</span><br><span class="line">h.hbook_id</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>数据库操作—改</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>修改模型类对象的属性，然后执行save()方法</span><br><span class="line">hero = HeroInfo.objects.get(hname=<span class="string">'猪八戒'</span>)</span><br><span class="line">hero.hname = <span class="string">'猪悟能'</span></span><br><span class="line">hero.save()</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>使用模型类.objects.filter().update()，会返回受影响的行数</span><br><span class="line">HeroInfo.objects.filter(hname=<span class="string">'沙悟净'</span>).update(hname=<span class="string">'沙僧'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>数据库操作—删</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>模型类对象delete</span><br><span class="line">hero = HeroInfo.objects.get(id=<span class="number">13</span>)</span><br><span class="line">hero.delete()</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>模型类.objects.filter().delete()</span><br><span class="line">HeroInfo.objects.filter(id=<span class="number">14</span>).delete()</span><br></pre></td></tr></table></figure>

<ul>
<li>查询集QuerySet</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">当调用如下过滤器方法时，Django会返回查询集（而不是简单的列表）：</span><br><span class="line"></span><br><span class="line">all()：返回所有数据。</span><br><span class="line">filter()：返回满足条件的数据。</span><br><span class="line">exclude()：返回满足条件之外的数据。</span><br><span class="line">order_by()：对结果进行排序。</span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断某一个查询集中是否有数据：</span></span><br><span class="line">exists()：判断查询集中是否有数据，如果有则返回<span class="literal">True</span>，没有则返回<span class="literal">False</span>。</span><br><span class="line"></span><br><span class="line">两大特性：</span><br><span class="line">	<span class="number">1.</span>惰性执行：创建查询集不会访问数据库，调用时才会访问数据库，调用情况包括迭代，序列化，与<span class="keyword">if</span>合用</span><br><span class="line">	<span class="number">2.</span>缓存：使用同一个查询集，第一次使用会发生数据库的查询，然后Django把结果缓存下来，第二次查询会使用缓存减少数据库查询次数</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/20/复习Flask/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MrBean">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MrBean">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/20/复习Flask/" itemprop="url">Flask复习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-06-20T18:15:36+08:00">
                2019-06-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/自学/" itemprop="url" rel="index">
                    <span itemprop="name">自学</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Werkzeug-jinja2模块"><a href="#Werkzeug-jinja2模块" class="headerlink" title="Werkzeug/jinja2模块"></a>Werkzeug/jinja2模块</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Flask 依赖两个外部库：</span><br><span class="line">	Jinja2 模板引擎：负责模板引擎，关于界面的</span><br><span class="line">    	模板语言：是一种被设计来自动生成文档的简单文本格式，在模板语言中，一般都会把一些变量传给模板，替换模板的特定位置上预先定义好的占位变量名。</span><br><span class="line">        Flask提供的 render_template 函数封装了该模板引擎</span><br><span class="line">		render_template 函数的第一个参数是模板的文件名，后面的参数都是键值对，表示模板中变量对应的真实值</span><br><span class="line">		<span class="comment"># 变量代码块：</span></span><br><span class="line">        &lt;h1&gt;&#123;&#123; post.title &#125;&#125;&lt;/h1&gt;</span><br><span class="line">    	<span class="comment"># 控制代码块：</span></span><br><span class="line">        &#123;% <span class="keyword">if</span> user %&#125;</span><br><span class="line">            &#123;&#123; user &#125;&#125;</span><br><span class="line">        &#123;% <span class="keyword">else</span> %&#125;</span><br><span class="line">            hello!</span><br><span class="line">        &lt;ul&gt;		</span><br><span class="line">            &#123;% <span class="keyword">for</span> index <span class="keyword">in</span> indexs %&#125;</span><br><span class="line">            &lt;li&gt; &#123;&#123; index &#125;&#125; &lt;/li&gt;</span><br><span class="line">            &#123;% endfor %&#125;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    	<span class="comment"># 自定义过滤器两种方法</span></span><br><span class="line">        <span class="number">1.</span> add_template_filter(函数名，自定义过滤器名称)</span><br><span class="line">        <span class="number">2.</span> @app.template_filter(<span class="string">'自定义过滤器名称'</span>)</span><br><span class="line">        <span class="comment"># 模板继承</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">	Werkzeug WSGI 工具集：实现路由、调试和Web服务器网关接口</span><br><span class="line">    - 其内部实现了很多Web框架底层的东西，比如request和response对象；</span><br><span class="line">    - 与WSGI规范的兼容；支持Unicode；</span><br><span class="line">    - 支持基本的会话管理和签名Cookie；</span><br><span class="line">    - 集成URL请求路由等。</span><br></pre></td></tr></table></figure>

<h2 id="路由的定义"><a href="#路由的定义" class="headerlink" title="路由的定义"></a>路由的定义</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>基础的请求方式：</span><br><span class="line"><span class="meta">@app.route('/demo')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'demo01'</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>指定请求方式：</span><br><span class="line"><span class="meta">@app.route('/demo02',method=['GET','POST'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo02</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">return</span> request.method</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>正则处理url的实现:</span><br><span class="line"><span class="comment"># 继承BaseConverter</span></span><br><span class="line"><span class="keyword">from</span> werkzeug.routing <span class="keyword">import</span> BaseConverter</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RegexConverter</span><span class="params">(BaseConverter)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, url_map, *args)</span>:</span></span><br><span class="line">        super(RegexConverter, self).__init__(url_map)</span><br><span class="line">        <span class="comment"># 将接受的第一个参数当做匹配规则进行保存</span></span><br><span class="line">        self.regex = args[<span class="number">0</span>]</span><br><span class="line"><span class="comment"># 把正则类赋值给定义的正则规则</span></span><br><span class="line">app.url_map.converter[<span class="string">'re'</span>]=RegexUrl</span><br><span class="line"><span class="comment"># 在url中用正则</span></span><br><span class="line"><span class="meta">@app.route('/regex/&lt;re("[a-z]&#123;3&#125;"):id&gt;')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regex111</span><span class="params">(id)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"user_id 为 %s"</span> % id</span><br></pre></td></tr></table></figure>

<h2 id="返回Json数据"><a href="#返回Json数据" class="headerlink" title="返回Json数据"></a>返回Json数据</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">构造响应数据，Flask中可以使用jsonify生成一个json响应</span><br><span class="line"><span class="meta">@app.route('/demo03')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo03</span><span class="params">()</span>:</span></span><br><span class="line">    json_dict = &#123;</span><br><span class="line">        <span class="string">'user_id'</span>:<span class="number">10</span></span><br><span class="line">        <span class="string">'user_name'</span>:<span class="string">'laowang'</span></span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">return</span> jsonify(json_dict)</span><br><span class="line"><span class="comment"># 为什么要用jsonify呢？因为返回数据要符合HTTP协议，Json需要指定content-type：application/json，而json.dumps是直接返回json字符串的</span></span><br></pre></td></tr></table></figure>

<h2 id="异常捕获"><a href="#异常捕获" class="headerlink" title="异常捕获"></a>异常捕获</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> HTTP 异常主动抛出</span><br><span class="line">	abort抛出HTTP协议的错误状态码：abort(<span class="number">404</span>)</span><br><span class="line">    </span><br><span class="line"><span class="number">2.</span> 捕获错误</span><br><span class="line">	errorhandler装饰器</span><br><span class="line">    <span class="comment"># 统一处理500错误码</span></span><br><span class="line"><span class="meta">	@app.errorhandler(500)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">internal_server_error</span><span class="params">(e)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'服务器挂掉了'</span></span><br><span class="line">    <span class="comment"># 捕获指定异常</span></span><br><span class="line"><span class="meta">    @app.errorhandler(ZeroDivisionError)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">zero_division_error</span><span class="params">(e)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'除数不能为0'</span></span><br></pre></td></tr></table></figure>

<h2 id="请求钩子（类似Django中间件）"><a href="#请求钩子（类似Django中间件）" class="headerlink" title="请求钩子（类似Django中间件）"></a>请求钩子（类似Django中间件）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">before_first_request</span><br><span class="line">    在处理第一个请求前执行</span><br><span class="line">    </span><br><span class="line">before_request</span><br><span class="line">	<span class="comment"># 通常作为校验操作，连接数据库操作</span></span><br><span class="line">    在每次请求前执行</span><br><span class="line">    如果在某修饰的函数中返回了一个响应，视图函数将不再被调用</span><br><span class="line">    </span><br><span class="line">after_request</span><br><span class="line">	<span class="comment"># 指定响应头和cookie，例如content-type:text 改为 application/json</span></span><br><span class="line">    如果没有抛出错误，在每次请求后执行</span><br><span class="line">    接受一个参数：视图函数作出的响应</span><br><span class="line">    在此函数中可以对响应值在返回之前做最后一步修改处理</span><br><span class="line">    需要将参数中的响应在此参数中进行返回</span><br><span class="line">    </span><br><span class="line">    例子：</span><br><span class="line"><span class="meta">        @api.after_request</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">after_request</span><span class="params">(response)</span>:</span></span><br><span class="line">        <span class="string">"""设置默认的响应报文格式为 application/json"""</span></span><br><span class="line">        <span class="comment"># 如果响应报文 response 的 Content-Type 是以 text 开头，则将其改为</span></span><br><span class="line">        <span class="comment"># 默认的 json 类型</span></span><br><span class="line">        <span class="keyword">if</span> response.headers.get(<span class="string">"Content-Type"</span>).startswith(<span class="string">"text"</span>):</span><br><span class="line">        response.headers[<span class="string">"Content-Type"</span>] = <span class="string">"application/json"</span></span><br><span class="line">        <span class="keyword">return</span> respon</span><br><span class="line"></span><br><span class="line">teardown_request：</span><br><span class="line">在每次请求后执行</span><br><span class="line">    接受一个参数：错误信息，如果有相关错误抛出</span><br></pre></td></tr></table></figure>

<h2 id="上下文（保存运行信息的容器）"><a href="#上下文（保存运行信息的容器）" class="headerlink" title="上下文（保存运行信息的容器）"></a>上下文（保存运行信息的容器）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">请求上下文(request context)</span><br><span class="line"><span class="comment"># 保存客户端和服务器交互的数据</span></span><br><span class="line">request：</span><br><span class="line">	封装HTTP请求的内容，user = request.args.get(<span class="string">'user'</span>)</span><br><span class="line">session：</span><br><span class="line">	用来记录请求会话中的信息，针对的是用户，sessioin[<span class="string">'name'</span>]=user.id记录用户信息，session.get(<span class="string">'name'</span>)获取用户信息</span><br><span class="line"></span><br><span class="line">应用上下文(application context)</span><br><span class="line"><span class="comment"># 不是一直存在的，只是request context中的一个对app的代理，所谓local proxy。主要作用是帮助request获取当前的应用，伴request而生，随request而灭</span></span><br><span class="line">current_app:</span><br><span class="line">    存储应用程序中的变量，保存配置信息，比如程序名、数据库连接、应用信息</span><br><span class="line">g变量：</span><br><span class="line">	全局的一个临时变量，充当媒介传递数据，是一个线程局部变量（通过不同thread id区别）</span><br></pre></td></tr></table></figure>

<h2 id="状态保持"><a href="#状态保持" class="headerlink" title="状态保持"></a>状态保持</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">HTTP协议是一种无状态协议，浏览器请求服务器是无状态的，每次请求都是新的请求，所以需要状态保持</span><br><span class="line">cookie：</span><br><span class="line">	客户端，浏览器默认响应带上cookie保存，并且下次请求的时候也会带上cookie，所以容易发生CSRF，需要用csrf_token解决</span><br><span class="line">	应用：登录状态保持，网站的广告推送，购物车模块</span><br><span class="line">    response.set_cookie() <span class="comment"># 设置cookie</span></span><br><span class="line">    response.get_cookie(） <span class="comment"># 获取cookie</span></span><br><span class="line">    </span><br><span class="line">session:</span><br><span class="line">    存在于服务器，不能把数据存储到浏览器中，用户需要用钥匙打开</span><br><span class="line">	session[<span class="string">'username'</span>] = <span class="string">'itcast'</span></span><br></pre></td></tr></table></figure>

<h2 id="Flask-Script扩展"><a href="#Flask-Script扩展" class="headerlink" title="Flask-Script扩展"></a>Flask-Script扩展</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">相当于调用命令行去执行函数，项目中使用到创建超级用户</span><br><span class="line">manager.py /<span class="function"><span class="keyword">def</span> <span class="title">createsuperuser</span><span class="params">(name,password)</span></span></span><br></pre></td></tr></table></figure>

<h2 id="CSRF：跨站请求伪造"><a href="#CSRF：跨站请求伪造" class="headerlink" title="CSRF：跨站请求伪造"></a>CSRF：跨站请求伪造</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>用户没有退出网站登录，记录cookie值</span><br><span class="line"><span class="number">2.</span>只要当前网站发送请求，自动带上cookie</span><br><span class="line"><span class="number">3.</span>借助你的身份发送网络请求盗取你的信息</span><br><span class="line"></span><br><span class="line">防护CSRF</span><br><span class="line"><span class="number">1.</span>发送请求时，后端会往响应中的cookie设置csrf_token的值</span><br><span class="line"><span class="number">2.</span>Form表单中添加一个隐藏字段值也是csrf_token</span><br><span class="line"><span class="number">3.</span>用户点击提交的时候，会带上两个值向后台发送请求</span><br><span class="line"><span class="number">4.</span>后端收到请求，比对cookie取出的csrf_token和表单数据中隐藏的csrf_token的值</span><br><span class="line"><span class="number">5.</span>如果两一样，正常，不一样，非法请求</span><br><span class="line"></span><br><span class="line">引出网站同源策略，不同域名获取不到cookie</span><br><span class="line"></span><br><span class="line"><span class="comment"># flask-wtf有完善的csrf防护体系</span></span><br><span class="line">每次请求后利用钩子函数设置csrf_token</span><br><span class="line">需要请求带上csrf_token</span><br></pre></td></tr></table></figure>

<h2 id="Flask-SQLAlchemy数据库"><a href="#Flask-SQLAlchemy数据库" class="headerlink" title="Flask-SQLAlchemy数据库"></a>Flask-SQLAlchemy数据库</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ORM关系映射，</span><br><span class="line">	优点：面向对象编程不需要面向数据库编写代码，方便快速开发</span><br><span class="line">	缺点：就是在映射过程中会有性能损失，效率低</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">安装 flask-sqlalchemy</span><br><span class="line">	pip install flask-sqlalchemy</span><br><span class="line">如果连接的是 mysql 数据库，需要安装 mysqldb 驱动</span><br><span class="line">	pip install flask-mysqldb</span><br><span class="line"></span><br><span class="line">数据库连接</span><br><span class="line">	app.config[<span class="string">'SQLALCHEMY_DATABASE_URI'</span>] = <span class="string">'mysql://root:mysql@127.0.0.1:3306/test'</span></span><br><span class="line">其他设置：</span><br><span class="line">	<span class="comment"># 动态追踪修改设置，如未设置只会提示警告</span></span><br><span class="line">    app.config[<span class="string">'SQLALCHEMY_TRACK_MODIFICATIONS'</span>] = <span class="literal">True</span></span><br><span class="line">    <span class="comment">#查询时会显示原始SQL语句</span></span><br><span class="line">    app.config[<span class="string">'SQLALCHEMY_ECHO'</span>] = <span class="literal">True</span></span><br><span class="line">记得创建项目所用数据库</span><br><span class="line"></span><br><span class="line">模型的关联关系</span><br><span class="line">	db.relationship(<span class="string">'User'</span>, backref=<span class="string">'role'</span>)</span><br></pre></td></tr></table></figure>

<h2 id="蓝图（类似于Django里的app）"><a href="#蓝图（类似于Django里的app）" class="headerlink" title="蓝图（类似于Django里的app）"></a>蓝图（类似于Django里的app）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">定义：是Flask应用程序组件化的方法，可以在一个应用内或跨越多个项目公用蓝图</span><br><span class="line">应用场景：</span><br><span class="line">	<span class="number">1.</span>一个应用分解为一个蓝图的集合</span><br><span class="line">    <span class="number">2.</span>URL前缀或子域名，在应用上注册一个蓝图。参数即成为这个蓝图下的所有视图函数的共同视图参数</span><br><span class="line">    <span class="number">3.</span>一个应用中用不同的URL规则多次注册一个蓝图</span><br><span class="line">    <span class="number">4.</span>通过蓝图提供模板过滤器、静态文件、模板和其他功能。</span><br><span class="line">    <span class="number">5.</span>初始化一个Flask扩展时，注册蓝图</span><br><span class="line">缺点：</span><br><span class="line">	不能在应用创建后撤销注册一个蓝图而不销毁整个应用对象</span><br><span class="line">    </span><br><span class="line">使用蓝图：</span><br><span class="line">	<span class="comment"># 创建蓝图对象</span></span><br><span class="line">    blue = Blueprint(<span class="string">'blue'</span>, __name__)</span><br><span class="line">    <span class="comment"># 在这个蓝图对象上进行操作， 例如注册路由...</span></span><br><span class="line"><span class="meta">    @blue.route('/')</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">blue_index</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Welcome to my blueprint'</span></span><br><span class="line">    <span class="comment"># 应用对象上注册这个蓝图对象</span></span><br><span class="line">    app.register_blueprint(blue, url_prefix=<span class="string">'/blue'</span>)</span><br></pre></td></tr></table></figure>

<p>## </p>
<h2 id="url-for函数"><a href="#url-for函数" class="headerlink" title="url_for函数"></a>url_for函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>URL 反转：根据视图函数名称得到当前所指向的 url。</span><br><span class="line"><span class="number">2.</span>url_for() 函数最简单的用法是以视图函数名作为参数，返回对应的 url，还可以用作加载静态文件。</span><br><span class="line">	&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"&#123;&#123;url_for('static',filename='css/index.css')&#125;&#125;"</span>&gt;</span><br><span class="line">    该条语句就是在模版中加载 css 静态文件。</span><br><span class="line"><span class="number">3.</span>url_for 和 redirect 区别</span><br><span class="line">    url_for 是用来拼接 URL 的，可以使用程序 URL 映射中保存的信息生成 URL。url_for() 函数最简单的用法是以视图函数名作为参数， 返回对应的 URL。例如，在示例程序中 hello.py 中调用url_for(<span class="string">'index'</span>) 得到的结果是 /。</span><br><span class="line">    redirect 是重定向函数，输入一个 URL 后，自动跳转到另一个 URL 所在的地址，例如，你在函数中写 <span class="keyword">return</span> redirect(<span class="string">'https://www.baidu.com'</span>) 页面就会跳转向百度页面</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,redirect,url_for</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"><span class="meta">@app.route('/')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    login_url = url_for(<span class="string">'login'</span>)</span><br><span class="line">    <span class="keyword">return</span> redirect(login_url)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">u'这是首页'</span></span><br><span class="line"><span class="meta">@app.route('/login/')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">return</span> <span class="string">u'这是登陆页面'</span></span><br><span class="line"></span><br><span class="line"><span class="meta"> @app.route('/question/&lt;is_login&gt;/')</span></span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">question</span><span class="params">(is_login)</span>:</span></span><br><span class="line">     <span class="keyword">if</span> is_login == <span class="string">'1'</span>:</span><br><span class="line">         <span class="keyword">return</span> <span class="string">u'这是发布问答的页面'</span></span><br><span class="line">     <span class="keyword">else</span>:</span><br><span class="line">         <span class="keyword">return</span> redirect(url_for(<span class="string">'login'</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">     app.run(debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/20/复习meiduo项目/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MrBean">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MrBean">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/20/复习meiduo项目/" itemprop="url">XX商城</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-06-20T18:15:35+08:00">
                2019-06-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/项目/" itemprop="url" rel="index">
                    <span itemprop="name">项目</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="美多项目串讲"><a href="#美多项目串讲" class="headerlink" title="美多项目串讲"></a>美多项目串讲</h2><h4 id="01-业务部分（实现的业务实现的思路，业务在具体视图当中处理的流程，收到了什么数据，给前端返回什么数据）"><a href="#01-业务部分（实现的业务实现的思路，业务在具体视图当中处理的流程，收到了什么数据，给前端返回什么数据）" class="headerlink" title="01-业务部分（实现的业务实现的思路，业务在具体视图当中处理的流程，收到了什么数据，给前端返回什么数据）"></a>01-业务部分（实现的业务实现的思路，业务在具体视图当中处理的流程，收到了什么数据，给前端返回什么数据）</h4><h4 id="具体实现的思路和步骤描述出来-业务的每一点实现的步骤和过程"><a href="#具体实现的思路和步骤描述出来-业务的每一点实现的步骤和过程" class="headerlink" title="具体实现的思路和步骤描述出来-业务的每一点实现的步骤和过程"></a>具体实现的思路和步骤描述出来-业务的每一点实现的步骤和过程</h4><ul>
<li><p>用户管理-注意接口分析：请求的方式、返回的数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>注册</span><br><span class="line">	图片验证码，短信验证码，判断用户名是否存在，判断手机号是否存在，保存用户信息</span><br><span class="line"><span class="number">2.</span>登录</span><br><span class="line"><span class="number">3.</span>找回密码</span><br><span class="line"><span class="number">4.</span>QQ登录</span><br><span class="line"><span class="number">5.</span>个人中心</span><br><span class="line"><span class="number">6.</span>邮件发送和验证</span><br><span class="line"><span class="number">7.</span>用户浏览历史记录</span><br><span class="line"><span class="number">8.</span>修改密码</span><br><span class="line"><span class="number">9.</span>地址管理</span><br><span class="line">	省市区地址信息加载</span><br><span class="line">    新增修改删除地址</span><br><span class="line">    设置默认地址</span><br></pre></td></tr></table></figure>
</li>
<li><p>商品</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首页</span><br><span class="line">	商品分类</span><br><span class="line">	广告控制</span><br><span class="line"><span class="number">2.</span>商品列表页面</span><br><span class="line"><span class="number">3.</span>商品详情页面</span><br><span class="line"><span class="number">3.</span>搜索页</span><br></pre></td></tr></table></figure>
</li>
<li><p>购物车</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>增</span><br><span class="line"><span class="number">2.</span>删</span><br><span class="line"><span class="number">3.</span>改</span><br><span class="line"><span class="number">4.</span>查</span><br><span class="line"><span class="number">5.</span>登录与未登录的保存</span><br><span class="line"><span class="number">6.</span>合并购物车-事务</span><br></pre></td></tr></table></figure>
</li>
<li><p>订单部分</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>订单结算页面</span><br><span class="line"><span class="number">2.</span>保存订单</span><br><span class="line"><span class="number">3.</span>我的订单</span><br><span class="line"><span class="number">4.</span>订单评论</span><br></pre></td></tr></table></figure>
</li>
<li><p>支付</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">支付宝支付</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="02-技术（具有通用性，什么时候用什么技术）"><a href="#02-技术（具有通用性，什么时候用什么技术）" class="headerlink" title="02-技术（具有通用性，什么时候用什么技术）"></a>02-技术（具有通用性，什么时候用什么技术）</h4><h4 id="着重复习的点"><a href="#着重复习的点" class="headerlink" title="着重复习的点"></a>着重复习的点</h4><ul>
<li><p>跨域请求及解决（后端不存在跨域问题，可以请求完之后向前端响应数据）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>CORS解决跨域问题</span><br><span class="line">	安装cors-header</span><br><span class="line">    注册cors在中间件</span><br><span class="line">    添加白名单</span><br><span class="line"><span class="number">2.</span>后端引入CORS，</span><br><span class="line"><span class="number">3.</span>什么是跨域问题？</span><br><span class="line">	域：协议 + IP(域名) + 端口，只要有一个不对就会产生跨域问题</span><br><span class="line">    前后端分离肯定会跨域</span><br><span class="line"><span class="number">4.</span>安装扩展配置，使用CORS原理</span><br><span class="line"><span class="number">5.</span>先向后端发送option请求询问后端允许后端是否支持跨域请求</span><br><span class="line"><span class="number">6.</span>在中间件（请求来了自上而下）直接处理option请求，前端发送真正的业务请求</span><br><span class="line"><span class="number">7.</span>列出白名单</span><br></pre></td></tr></table></figure>
</li>
<li><p>JWT</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>选择JWT的原因？--优点</span><br><span class="line">	<span class="number">1.1</span> session机制-session的实现是在浏览器cookie中存放一个session的id，跨域之后就用不了</span><br><span class="line">	<span class="number">1.2</span> jwt没有跨域问题，可以放在cookie，也可以找个地方存起来，请求的时候把它带上了就可以了，前端手动携带JWT，所以可以避免跨域（相比于session）</span><br><span class="line">    <span class="number">1.3</span> jwt生成之后保存到前端，浏览器的sessionstorage和localstorage，保存在客户端，不占用服务器资源</span><br><span class="line">    </span><br><span class="line"><span class="number">2.</span>什么是JWT</span><br><span class="line">	json web token组成，主要有三部分，header、playload、signature</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> JWT相对安全的原因</span><br><span class="line">	签名部分联合前面的header、playload加上secret key经过数学计算生成的</span><br><span class="line">    </span><br><span class="line"><span class="number">4.</span> JWT的注意事项：保存好secret私钥，不要再payload保存敏感信息（密码）</span><br></pre></td></tr></table></figure>
</li>
<li><p>itsdangerous（找回密码，qq登录，对openid进行隐藏并且防止修改，邮箱验证）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>隐藏数据</span><br><span class="line"><span class="number">2.</span>判断数据是否修改</span><br></pre></td></tr></table></figure>
</li>
<li><p>第三方登录（QQ登录，微博登录） </p>
</li>
<li><p>Oauth2.0机制 （访问的时候先拿到code，再通过code拿到access_token）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">第三方登录的流程图</span><br></pre></td></tr></table></figure>
</li>
<li><p>发送邮件与邮件激活（更多关于业务逻辑）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">itsdangerous，django扩展，拼接邮件的连接token（有效期，会过期）</span><br><span class="line">实现重新发送邮件解决未接到邮件，邮件过期</span><br></pre></td></tr></table></figure>
</li>
<li><p>缓存</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">缓存的好处--减少了数据库的查询次数</span><br><span class="line">缓存的原理--先去缓存查，没有再去数据库查，从数据库查出来先存进去缓存</span><br></pre></td></tr></table></figure>
</li>
<li><p>Celery异步任务处理队列（不想影响视图函数的执行就用celery）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">使用在比较耗时的场景</span><br><span class="line"><span class="number">1.</span>短信验证码 <span class="comment"># send_sms_code</span></span><br><span class="line"><span class="number">2.</span>发送邮件 <span class="comment"># send_verify_email</span></span><br><span class="line"><span class="number">3.</span>详情页面的静态化生成 <span class="comment"># generate_static_list_search_html</span></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>Celery机制</span><br><span class="line">	客户端部分Django，任务的发起者</span><br><span class="line">	broker-消息中间人任务调度队列，是一个生产者消费者模式，broker不提供队列，需要第三方提供：redis <span class="comment"># 生产者把任务放入队列中，消费者worker从任务中取出任务执行，任务执行可以按照顺序依次执行或者计划时间进行</span></span><br><span class="line">    worker工作者完成任务的（任务的执行者），<span class="comment"># 定时从broker取出任务，多个任务的执行者从broker取出来，可以有多个并发</span></span><br><span class="line">    task result store执行结果的存储位置，最后保存</span><br><span class="line">    </span><br><span class="line">使用：客户端初始化</span><br></pre></td></tr></table></figure>
</li>
<li><p>SKU SPU概念</p>
</li>
<li><p>FastDFS图片存储</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">引入的原因：解决冗余存储，命名冲突（区分不同的图片），灵活扩展（横向：提升存储能力，纵向：同步备份存储）</span><br><span class="line">保存商品的图片</span><br></pre></td></tr></table></figure>
</li>
<li><p>Docker</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">什么是Docker？</span><br><span class="line">镜像	容器</span><br><span class="line">操作</span><br></pre></td></tr></table></figure>
</li>
<li><p>富文本编辑器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">什么是富文本编辑器？ckeditor</span><br><span class="line">实现的机制，将普通文本连同格式形成html</span><br></pre></td></tr></table></figure>
</li>
<li><p>页面静态化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">什么是页面静态化？ 把每次看到的同样数据简化返回成一个html，只静态公共的数据</span><br><span class="line">节省后端处理时间，提升性能</span><br><span class="line">原理，机制？</span><br><span class="line">使用的地方：首页，详情页，列表页（商品分类），搜索结果页面</span><br><span class="line">触发时机：定时任务-首页（过一段时间生成一次），修改数据的时候</span><br></pre></td></tr></table></figure>
</li>
<li><p>定时任务crontab</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">操作系统提供的命令</span><br></pre></td></tr></table></figure>
</li>
<li><p>redis数据结构的设计</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">列表、字符串、哈希、集合</span><br><span class="line">用户的浏览历史：列表类型保存商品id</span><br><span class="line">购物车：哈希（存放的是购物车商品数量），集合（勾选状态）</span><br></pre></td></tr></table></figure>
</li>
<li><p>列表页分页</p>
</li>
<li><p>搜索-全文检索-elasticsearch</p>
</li>
<li><p>haystack</p>
</li>
<li><p>索引数据的生成时机</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>原因：为什么引用数据库查询不用like查询（效率很低），因为它会提供索引更快的查询	</span><br><span class="line"><span class="number">2.</span>索引数据的生成时机：rebuild_index, HAYSTACK_SIGNAL_PROCESSOR 的配置保证了在Django运行起来后，有新的数据产生时，haystack仍然可以让Elasticsearch实时生成新数据的索引</span><br></pre></td></tr></table></figure>
</li>
<li><p>购物车</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">登录与未登录的数据保存</span><br><span class="line">	redis</span><br><span class="line">	cookie pickle（把python字典转换成json数据要快过原生的很多，注意需要base64编码）</span><br></pre></td></tr></table></figure>
</li>
<li><p>订单保存</p>
<ul>
<li><p>事务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数据操作的时候要么一起成功要么一起失败</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ul>
<ul>
<li><p>并发下单</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">几个用户抢同一个东西：</span><br><span class="line">悲观锁</span><br><span class="line">乐观锁（更新的同时检测一下数据有没有变化）---&gt; 数据库的事务隔离级别:Serializable串行化，Repeatable read可重复读，Read Committed读取已提交，Read uncommitted读取未提交</span><br><span class="line">任务队列</span><br></pre></td></tr></table></figure>

</li>
</ul>
<ul>
<li><p>支付宝支付</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">支付宝的流程图</span><br></pre></td></tr></table></figure>
</li>
<li><p>Xadmin</p>
</li>
<li><p>权限控制</p>
<ul>
<li>使用django的</li>
<li>用户     组（一组权限的集合）     权限</li>
<li>数据库的表关系</li>
</ul>
</li>
<li><p>数据库的读写分离</p>
<ul>
<li>主从同步    从master写，从slave读</li>
<li>读写分离-提升性能</li>
</ul>
</li>
<li><p>部署</p>
<ul>
<li>服务器的结构（7台服务器）</li>
<li>uwsgi</li>
<li>nginx<ul>
<li>提供静态文件</li>
<li>负载均衡（反向代理）- 利用反向代理的能力实现负载均衡</li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/20/复习python基础+高级/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MrBean">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MrBean">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/20/复习python基础+高级/" itemprop="url">Python基础+高级复习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-06-20T18:15:34+08:00">
                2019-06-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/自学/" itemprop="url" rel="index">
                    <span itemprop="name">自学</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="python"><a href="#python" class="headerlink" title="python"></a>python</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">python程序的运行方面，什么手段优化性能</span><br><span class="line">	<span class="number">1.</span>使用多进程，充分发挥机器的多核性能</span><br><span class="line">    <span class="number">2.</span>对于性能影响较大部分的代码，可以使用c或c++编写</span><br><span class="line">    3.对于IO阻塞造成的性能影响，可以使用IO多路复用来解决 ---&gt;可拓展IO</span><br><span class="line">    <span class="number">4.</span>尽量使用python内建函数</span><br><span class="line">    <span class="number">5.</span>尽量使用局部变量</span><br><span class="line">    </span><br><span class="line">----------</span><br><span class="line">    Python属于 动态强类型解释型语言</span><br><span class="line"></span><br><span class="line">     动态 ： 不需要实现声明变量类型，在运行时根据值的类型确定变量类型</span><br><span class="line">     静态 ： 需要实现声明变量类型，在运行前需要确定类型才可以执行</span><br><span class="line"></span><br><span class="line">     强类型 ： 变量类型不同，不可以混合计算，需要实现类型转换</span><br><span class="line">     弱类型 :  变量类型不同，可以混合计算</span><br><span class="line"></span><br><span class="line">     编译型语言： 在程序执行前，先通过编译器编译代码，生成可执行文件</span><br><span class="line">     解释型语言： 每次执行程序，都需要通过解释器按行解释一遍（解释型语言执行效率低的问题可以被机器性能弥补）</span><br><span class="line">        </span><br><span class="line">     面向对象的编程，支持通过组合与集成的方式定义类</span><br><span class="line">     python语言中，函数是第一类对象</span><br><span class="line">     python代码编写快，但是运行速度比编译型语言通常要慢</span><br><span class="line">     python胶水语言，可帮助其他语言和组件改善运行状况</span><br><span class="line">     </span><br><span class="line">----------</span><br><span class="line">python中的作用域</span><br><span class="line">	变量的作用域总是由代码中被赋值的地方决定，当python遇到一个变量的话它也会按照这个顺序搜索LEGB</span><br><span class="line">    L：本地作用域(Local)---&gt; 当前作用域被嵌入本地作用域E:(Enclosing locals)---&gt;全局/模块作用域G:(Global)---&gt;内置作用域B:(Built-in)</span><br><span class="line">                </span><br><span class="line">----------</span><br><span class="line">python的命名空间</span><br><span class="line">python中所有的名字都存在一个空间中，它们在该空间中存在和被操作-----这就是命名空间，它就好像一个盒子，每一个变量名字都对应装着一个对象。当查询变量的时候，会从该盒子里面寻找相应的对象</span><br></pre></td></tr></table></figure>

<h2 id="python2和python3区别"><a href="#python2和python3区别" class="headerlink" title="python2和python3区别"></a>python2和python3区别</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">一.核心类差异</span><br><span class="line">	<span class="number">1.</span>python3对unicode字符原生支持（因为后来才出现unicode，python2的时候还没出现）</span><br><span class="line">    python2使用ascii码作为默认编码方式导致string有两种类型，srt和unicode，python3只支持unicode的string</span><br><span class="line">    <span class="number">2.</span>python3采用的是绝对路径的方式<span class="keyword">import</span>，python2中相对路径的<span class="keyword">import</span>会导致标准库导入变得困难。python3中这一点被修改，如果还需要导入同一目录的文件必须使用相对路径</span><br><span class="line">    <span class="number">3.</span>python2中存在老式类和新式类的区别，python3中采用统一的新式类，新式类声明要求继承object，必须用新式类应用多重继承</span><br><span class="line">    <span class="number">4.</span>python3更加严重缩进，python2的缩进机制中，<span class="number">1</span>个tab和<span class="number">8</span>个space是等价的，所以在缩进中可以同时允许tab和space在代码中共存，这种等价机制会导致部分ide存在问题。python3中<span class="number">1</span>个tab只能找另外一个tab提到，因此tab和space共存会导致报错：</span><br><span class="line">    Taberror：nconsistent use of tabs <span class="keyword">and</span> spaces <span class="keyword">in</span> indentation.</span><br><span class="line">    </span><br><span class="line">二.废弃类差异</span><br><span class="line">	<span class="number">1.</span><span class="keyword">print</span>语句被python3废弃，统一使用<span class="keyword">print</span>函数</span><br><span class="line">    <span class="number">2.</span><span class="keyword">exec</span>语句被python3废弃，统一使用<span class="keyword">exec</span>函数</span><br><span class="line">    <span class="number">3.</span>execfile语句被python废弃，推荐使用exec(open(<span class="string">"./filename"</span>).read())</span><br><span class="line">    <span class="number">4.</span>不相等符<span class="string">"&lt;&gt;"</span>被python3放弃，统一使用<span class="string">"!="</span></span><br><span class="line">    <span class="number">5.l</span>ong整型被python3废弃，统一使用int</span><br><span class="line">    <span class="number">6.</span>xrange被python3废弃，统一使用range，python3中的range机制也进行了修改并提高了大数据集生成效率</span><br><span class="line">    <span class="number">7.</span>python3中这些方法不再返回list对象：dictionary关联的keys(),value(),items(),zip(),map(),filter()，但是可以通过list强行转换</span><br><span class="line">    mydict=&#123;<span class="string">'a'</span>:<span class="number">1</span>,<span class="string">'b'</span>:<span class="number">2</span>,<span class="string">'c'</span>:<span class="number">3</span>&#125;</span><br><span class="line">    mydict.keys()</span><br><span class="line">    list(mydict.keys())  ---&gt;['a','b','c']</span><br><span class="line">    <span class="number">8.</span>迭代器的iterator的next()函数被python3废弃，统一使用next(iterator)</span><br><span class="line">    <span class="number">9.</span>raw_input()被废弃，统一使用input函数</span><br><span class="line">    <span class="number">10.</span>字典变量的has_key函数被python废弃，统一使用<span class="keyword">in</span>关键词</span><br><span class="line">    <span class="number">11.</span>file被python3废弃，统一使用open来处理文件，io.IOBase检查文件类型</span><br><span class="line">    <span class="number">12.</span>apply函数飞出</span><br><span class="line">    <span class="number">13.</span>捕获异常统一用Exception</span><br><span class="line">    </span><br><span class="line">三.修改类差异</span><br><span class="line">	<span class="number">1.</span>浮点数除法操作符<span class="string">'/'</span>和<span class="string">'//'</span></span><br><span class="line">    <span class="string">'/'</span>  python2两个整型运算，结果还是整型，但若果两个有一个为浮点数，结果也为浮点数</span><br><span class="line">    <span class="string">'/'</span>	 python3为真除法，运算结果不再根据运算数的类型</span><br><span class="line">    </span><br><span class="line">    <span class="string">'//'</span> python2返回小于除法运算结果的最大整数；从类型上看，与<span class="string">'/'</span>运算符返回类型逻辑一致    </span><br><span class="line">    <span class="string">'//'</span> python3与<span class="number">2</span>运算结果一样</span><br><span class="line">    <span class="number">2.</span>异常抛出和捕捉机制区别</span><br><span class="line">    python2</span><br><span class="line">    rasie IOError,<span class="string">'file error'</span> <span class="comment"># 抛出异常</span></span><br><span class="line">    <span class="keyword">except</span> NameError，err	<span class="comment"># 捕获异常</span></span><br><span class="line">    </span><br><span class="line">    python3</span><br><span class="line">    rasie IOErroe(<span class="string">'file error'</span>) <span class="comment"># 抛出异常</span></span><br><span class="line">    <span class="keyword">except</span> NameError <span class="keyword">as</span> err <span class="comment"># 捕获异常</span></span><br><span class="line">    </span><br><span class="line">    <span class="number">3.</span><span class="keyword">for</span>循环中变量的区别</span><br><span class="line">    python2，<span class="keyword">for</span>循环会修改外部相同名称变量的值</span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    print(<span class="string">'comprehension'</span>,[i <span class="keyword">for</span> i <span class="keyword">in</span> range[<span class="number">5</span>]])</span><br><span class="line">    print('after:i =',i)  ---&gt; i=4</span><br><span class="line">    </span><br><span class="line">    python3,<span class="keyword">for</span>不会修改外部同名变量的值</span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    print(<span class="string">'comprehension'</span>,[i <span class="keyword">for</span> i <span class="keyword">in</span> range[<span class="number">5</span>]])</span><br><span class="line">    print('after:i =',i)  ---&gt; i=1</span><br><span class="line">    </span><br><span class="line">    <span class="number">4.</span>round函数返回值区别</span><br><span class="line">    python2，round函数返回float类型值</span><br><span class="line">    isinstance(round(<span class="number">15.5</span>),int) <span class="comment">#True</span></span><br><span class="line">    python3，round函数返回int类型值</span><br><span class="line">    isinstance(round(<span class="number">15.5</span>),float) <span class="comment">#True</span></span><br><span class="line">    </span><br><span class="line">    <span class="number">5.</span>比较操作符区别</span><br><span class="line">    python2中任意两个对象都可以比较</span><br><span class="line">    python3中只有相同类型的数据对象可以比较</span><br><span class="line">    </span><br><span class="line">四.第三方工具包的差异/工具安装的问题</span><br><span class="line">	python2<span class="number">.7</span>支持得多一点，python3<span class="number">.5</span>稍微少点</span><br><span class="line">    mysql包要转一下别名</span><br></pre></td></tr></table></figure>

<h2 id="python基础"><a href="#python基础" class="headerlink" title="python基础"></a>python基础</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">a,b数值交换 ---&gt; a,b=b,a</span><br><span class="line"></span><br><span class="line">-----------</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span>底层原理：sys.stdout.write</span><br><span class="line"></span><br><span class="line">-----------</span><br><span class="line"></span><br><span class="line">可变类型：列表[],字典&#123;&#125;</span><br><span class="line">不可变类型：数值类型（int，long，bool，float）、字符串str、元组tuple（）</span><br><span class="line">修改不可变类型，代码不会运行，抛出异常typeerror</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-------------------</span><br><span class="line"></span><br><span class="line">input()函数的理解</span><br><span class="line">    python3中无论用户输入什么，获取的都是字符串类型的</span><br><span class="line">    python2中，有raw_input()、input()，前者raw_input()和python3的input()是一样的，input()则是输入什么类型，返回什么数据类型</span><br><span class="line"></span><br><span class="line">-----------</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> A0 = dict(zip((<span class="string">'a'</span>，<span class="string">'b'</span>，<span class="string">'c'</span>，<span class="string">'d'</span>，<span class="string">'e'</span>)，(<span class="number">1</span>，<span class="number">2</span>，<span class="number">3</span>，<span class="number">4</span>，<span class="number">5</span>)))</span><br><span class="line">	<span class="comment"># zip() 函数用于将可迭代的对象作为参数，将对象中对应的元素打包成一个个元组，然后返回由这些元组组成的列表</span></span><br><span class="line"><span class="number">2.</span> A1 = range(<span class="number">10</span>)</span><br><span class="line"><span class="number">3.</span> A2 = [i <span class="keyword">for</span> i <span class="keyword">in</span> A1 <span class="keyword">if</span> i <span class="keyword">in</span> A0]</span><br><span class="line"><span class="number">4.</span> A3 = [A0[s] <span class="keyword">for</span> s <span class="keyword">in</span> A0]</span><br><span class="line"><span class="number">5.</span> A4 = [i <span class="keyword">for</span> i <span class="keyword">in</span> A1 <span class="keyword">if</span> i <span class="keyword">in</span> A3]</span><br><span class="line"><span class="number">6.</span> A5 = &#123;i:i*i <span class="keyword">for</span> i <span class="keyword">in</span> A1&#125;</span><br><span class="line"><span class="number">7.</span> A6 = [[i，i*i] <span class="keyword">for</span> i <span class="keyword">in</span> A1]</span><br><span class="line"></span><br><span class="line">A0 = &#123;<span class="string">'a'</span>:<span class="number">1</span>,<span class="string">'b'</span>:<span class="number">2</span>,<span class="string">'c'</span>:<span class="number">3</span>,<span class="string">'d'</span>:<span class="number">4</span>,<span class="string">'e'</span>:<span class="number">5</span>&#125;</span><br><span class="line">A1 = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>] <span class="comment"># 从0开始，返回一个列表</span></span><br><span class="line">A2 = []</span><br><span class="line">A3 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">A4 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>] <span class="comment"># 循环遍历A1和A3比较</span></span><br><span class="line">A5 = &#123;<span class="number">0</span>:<span class="number">0</span>,<span class="number">1</span>:<span class="number">1</span>,<span class="number">2</span>:<span class="number">4</span>,<span class="number">3</span>:<span class="number">9</span>,<span class="number">4</span>:<span class="number">16</span>,<span class="number">5</span>:<span class="number">25</span>,<span class="number">6</span>:<span class="number">36</span>,<span class="number">7</span>:<span class="number">49</span>,<span class="number">8</span>:<span class="number">64</span>,<span class="number">9</span>:<span class="number">81</span>&#125;</span><br><span class="line">A6 = [[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">4</span>],[<span class="number">3</span>,<span class="number">9</span>],[<span class="number">4</span>,<span class="number">16</span>],[<span class="number">5</span>,<span class="number">25</span>],[<span class="number">6</span>,<span class="number">36</span>],[<span class="number">7</span>,<span class="number">49</span>],[<span class="number">8</span>,<span class="number">64</span>],[<span class="number">9</span>,<span class="number">81</span>]]</span><br><span class="line"></span><br><span class="line">----------</span><br><span class="line"></span><br><span class="line">range和xrange的区别</span><br><span class="line">	两者用法相同，range返回的结果是一个列表，而xrange返回的结果是一个生成器，前者直接开辟一块内存空间来保存列表，后者边循环边用，只用使用的时候才会开辟内存空间，所以当列表很长时，xrange性能比range好</span><br><span class="line"></span><br><span class="line">l = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">10</span>):</span><br><span class="line">    l.append(&#123;<span class="string">'num'</span>:i&#125;)</span><br><span class="line"><span class="keyword">print</span> l</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;[&#123;<span class="string">'num'</span>:<span class="number">0</span>&#125;,&#123;<span class="string">'num'</span>:<span class="number">1</span>&#125;,&#123;<span class="string">'num'</span>:<span class="number">2</span>&#125;,&#123;<span class="string">'num'</span>:<span class="number">3</span>&#125;,&#123;<span class="string">'num'</span>:<span class="number">4</span>&#125;,&#123;<span class="string">'num'</span>:<span class="number">5</span>&#125;,&#123;<span class="string">'num'</span>:<span class="number">6</span>&#125;,&#123;<span class="string">'num'</span>:<span class="number">7</span>&#125;&#123;<span class="string">'num'</span>:<span class="number">8</span>&#125;,&#123;<span class="string">'num'</span>:<span class="number">9</span>&#125;]</span><br><span class="line"></span><br><span class="line">l = []</span><br><span class="line">a = &#123;<span class="string">'num'</span>:<span class="number">0</span>&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">10</span>) <span class="comment"># 边循环边用</span></span><br><span class="line">	a[<span class="string">'num'</span>] = i</span><br><span class="line">    l.append(a) </span><br><span class="line"><span class="keyword">print</span> l </span><br><span class="line"></span><br><span class="line">字典是可变对象，l.append(a)的操作中是把字典a的引用传到列表l中，当后续操作修改a[<span class="string">'num'</span>]的值得时候，l的值也随之改变，相当于浅拷贝</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[&#123;<span class="string">'num'</span>: <span class="number">9</span>&#125;, &#123;<span class="string">'num'</span>: <span class="number">9</span>&#125;, &#123;<span class="string">'num'</span>: <span class="number">9</span>&#125;, &#123;<span class="string">'num'</span>: <span class="number">9</span>&#125;, &#123;<span class="string">'num'</span>: <span class="number">9</span>&#125;, &#123;<span class="string">'num'</span>: <span class="number">9</span>&#125;, &#123;<span class="string">'num'</span>: <span class="number">9</span>&#125;, &#123;<span class="string">'num'</span>: <span class="number">9</span>&#125;, &#123;<span class="string">'num'</span>: <span class="number">9</span>&#125;, &#123;<span class="string">'num'</span>: <span class="number">9</span>&#125;]</span><br><span class="line">----------</span><br><span class="line"></span><br><span class="line">深拷贝/浅拷贝/赋值</span><br><span class="line"></span><br><span class="line">浅拷贝（三种形式：切片操作，工厂函数，copy.copy）</span><br><span class="line">切片操作： b=a[:] 或者 b = [x <span class="keyword">for</span> x <span class="keyword">in</span> a];</span><br><span class="line">工厂模式：b = list(a)</span><br><span class="line">copy.copy</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> copy </span><br><span class="line">浅拷贝： c = copy.copy(a)</span><br><span class="line">深拷贝： d = copy.deepcopy(a)</span><br><span class="line"></span><br><span class="line">拷贝可变类型：</span><br><span class="line">浅拷贝： 只拷贝一层数据，不关心里面的第二层内容，能够保证外层数据独立</span><br><span class="line">深拷贝： 拷贝了所有层数据，所有层数据都是独立</span><br><span class="line"></span><br><span class="line">拷贝不可变类型：</span><br><span class="line">一层/多层的不可变类型，深拷贝和浅拷贝都是一样的，不会拷贝，只是引用</span><br><span class="line"></span><br><span class="line">多层中只要有可变类型：</span><br><span class="line">	浅拷贝：只关心第一层，第一层不可变类型，不会拷贝只是引用</span><br><span class="line">    深拷贝：关心所有层，多层中只要有一层可变类型数据，所有层都会拷贝，保证数据独立性</span><br><span class="line"></span><br><span class="line">赋值：a = b 简单的对象引用，不会开辟新的内存空间，只是复制了对象的引用，除了b这个名字外没其他的内存开销</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------</span><br><span class="line">python代码规范：PEP8   </span><br><span class="line">变量：</span><br><span class="line"><span class="number">1.</span>普通变量USER_AGENT：大写加下划线 </span><br><span class="line"><span class="number">2.</span>私有变量_private_value：python不存在私有变量，只是程序员的约定俗成用于警告是一个私有变量，外部类不要访问，实际上外部类还是可以访问此变量</span><br><span class="line"><span class="number">3.</span>内置变量__class__：为了避免内置变量和其他变量产生冲突，用户定义的变量要避免这种风格，以免混乱</span><br><span class="line"></span><br><span class="line">函数和方法：</span><br><span class="line">用小写和下划线，</span><br><span class="line">私有方法:_+小写  _cookie2session</span><br><span class="line">特殊方法（魔法方法）：__new__、__cls__、__init__、__str__</span><br><span class="line"></span><br><span class="line">类：</span><br><span class="line">大驼峰命名，首字母大写其余小写</span><br><span class="line"></span><br><span class="line">模块和包：</span><br><span class="line">特殊模块__init__之外，模块都不能使用下划线小写字母</span><br><span class="line"></span><br><span class="line">参数：</span><br><span class="line">不要滥用*args和*kwargs</span><br><span class="line">动态解释性语言不要用断言来实现静态类型检测</span><br><span class="line"></span><br><span class="line">其他：</span><br><span class="line">用<span class="keyword">is</span>或者has前缀命名BOOL</span><br><span class="line">复数形式命名序列：members=[<span class="string">'user_1'</span>:<span class="string">'user_2'</span>]</span><br><span class="line"></span><br><span class="line">不能用通用名称命名：list、dict、element、os、sys</span><br><span class="line"></span><br><span class="line">一些数字</span><br><span class="line">一行：PEP <span class="number">8</span>规定为<span class="number">79</span>列，不要超过满屏的显示列数</span><br><span class="line">一个函数：不要超过<span class="number">30</span>行代码，显示一个屏幕类，不使用垂直游标看到整个函数</span><br><span class="line">一个类：不超过<span class="number">200</span>行代码，不超过<span class="number">10</span>个方法，不超过<span class="number">500</span>行</span><br><span class="line"></span><br><span class="line">-------------------</span><br><span class="line"></span><br><span class="line">捕捉异常</span><br><span class="line">在<span class="keyword">except</span>中<span class="keyword">return</span>后还会不会执行<span class="keyword">finally</span>代码，怎么抛出自定义异常？</span><br><span class="line">会继续处理<span class="keyword">finally</span>中的代码；<span class="keyword">raise</span>方法可以抛出自定义异常</span><br><span class="line"><span class="keyword">except</span>：<span class="comment">#捕获所有异常</span></span><br><span class="line"><span class="keyword">except</span>：&lt;异常名&gt;：<span class="comment">#捕获指定异常</span></span><br><span class="line"><span class="keyword">except</span>：&lt;异常名<span class="number">1</span>，异常名<span class="number">2</span>&gt;：捕获异常<span class="number">1</span> 或者 异常<span class="number">2</span></span><br><span class="line"><span class="keyword">except</span>：&lt;异常名&gt;，&lt;数据&gt;：捕获指定异常及其附加的数据</span><br><span class="line"><span class="keyword">except</span>：&lt;异常名<span class="number">1</span>，异常名<span class="number">2</span>&gt;：&lt;数据&gt;:捕获异常名<span class="number">1</span>或者异常名<span class="number">2</span>，及附加的数据</span><br><span class="line">    </span><br><span class="line">----------</span><br><span class="line">模块与包</span><br><span class="line"></span><br><span class="line">python标准库： os操作系统，time事件，random随机，pymysql连接数据库，threading线程，multiprocessing进程，queue队列</span><br><span class="line">第三方库：Django==<span class="number">1.11</span><span class="number">.11</span> Flask==<span class="number">0.10</span><span class="number">.1</span> requests请求，virtualenv虚拟环境，selenium，scrapy爬虫，xadmin富文本，Celery分布式队列，re正则，hashlib，md5</span><br><span class="line">常用的科学计算库：Numpy，Scipy，Pandas</span><br><span class="line"></span><br><span class="line">----------</span><br><span class="line">魔法方法：</span><br><span class="line"></span><br><span class="line">__init__ 和 __new__ 的区别</span><br><span class="line">	init在对象创建后，对对象进行初始化</span><br><span class="line">    new是在对象创建之前创建一个对象，并将该对象返回给init</span><br><span class="line">    </span><br><span class="line">----------    </span><br><span class="line"></span><br><span class="line">random模块</span><br><span class="line">random.random() 	<span class="comment"># 生成一个0-1之间的随机浮点数</span></span><br><span class="line">random.uniform(a,b)		<span class="comment"># 生成一个a，b之间的随机浮点数</span></span><br><span class="line">random.randict(a,b)		<span class="comment"># 生成一个a，b之间的随机整数</span></span><br><span class="line">random.randrange(a,b,step)		<span class="comment"># 在指定的集合（a，b）中，以step为基数随机取一个数</span></span><br><span class="line">random.choice(sequence):	<span class="comment"># 从特定序列中随机取一个元素，这里的序列可以是字符串，列表，元组</span></span><br><span class="line">----------</span><br><span class="line">分析一下os.path,sys.path分别代表什么</span><br><span class="line">os.path	主要是用于对系统路径文件的操作</span><br><span class="line">sys.path 主要是对python解释器的系统环境参数的操作（动态的改变python解释器搜索路径）</span><br><span class="line">----------</span><br><span class="line">os模块常用方法</span><br><span class="line">os.remove()		<span class="comment"># 删除文件</span></span><br><span class="line">os.rename()		<span class="comment"># 重命名</span></span><br><span class="line">os.walk()		<span class="comment"># 生成目录树下的所有文件名</span></span><br><span class="line">os.chdir()		<span class="comment"># 改变目录</span></span><br><span class="line">os.mkdir/makedirs		<span class="comment"># 创建目录/多层目录</span></span><br><span class="line">os.listdir()		<span class="comment"># 列出指定目录的文件</span></span><br><span class="line">os.chmod()		<span class="comment"># 改变目录权限</span></span><br><span class="line">os.path.basename()		<span class="comment"># 去掉目录路径，返回文件名</span></span><br><span class="line">os.path.dirname()		<span class="comment"># 去掉文件名，返回目录路径</span></span><br><span class="line">os.path.join		<span class="comment"># 将分离的各部分组合成一个路径名</span></span><br><span class="line">os.path.split()		<span class="comment"># 返回(dirname(),basename)元组 返回文件的路径和文件名</span></span><br><span class="line">os.path.splitext()		<span class="comment"># 返回文件名和扩展名</span></span><br><span class="line">os.path.exists()		<span class="comment"># 是否存在</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"> </span><br><span class="line"><span class="comment">#os.path.join() 将分离的部分合成一个整体</span></span><br><span class="line">filename=os.path.join(<span class="string">'/home/ubuntu/python_coding'</span>,<span class="string">'split_func'</span>)</span><br><span class="line"><span class="keyword">print</span> filename</span><br><span class="line"><span class="comment">#输出为：/home/ubuntu/python_coding/split_func</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#os.path.splitext()将文件名和扩展名分开</span></span><br><span class="line">fname,fename=os.path.splitext(<span class="string">'/home/ubuntu/python_coding/split_func/split_function.py'</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">'fname is:'</span>,fname</span><br><span class="line"><span class="keyword">print</span> <span class="string">'fename is:'</span>,fename</span><br><span class="line"><span class="comment">#输出为：</span></span><br><span class="line"><span class="comment"># fname is:/home/ubuntu/python_coding/split_func/split_function</span></span><br><span class="line"><span class="comment">#fename is:.py</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#os.path.split（）返回文件的路径和文件名</span></span><br><span class="line">dirname,filename=os.path.split(<span class="string">'/home/ubuntu/python_coding/split_func/split_function.py'</span>)</span><br><span class="line"><span class="keyword">print</span> dirname</span><br><span class="line"><span class="keyword">print</span> filename</span><br><span class="line"><span class="comment">#输出为：</span></span><br><span class="line"><span class="comment"># /home/ubuntu/python_coding/split_func</span></span><br><span class="line"><span class="comment">#split_function.py</span></span><br><span class="line"></span><br><span class="line">----------</span><br><span class="line">sys模块常用方法</span><br><span class="line">sys.path</span><br><span class="line">sys.maint</span><br><span class="line">sys.version		<span class="comment"># 获取python解释程序的版本</span></span><br><span class="line">sys.modules 	<span class="comment"># 返回系统导入的模块字段，key模块名，value模块</span></span><br><span class="line">----------</span><br><span class="line"></span><br><span class="line">unittest测试框架</span><br><span class="line">python中的单元测试框架，拥有支持共享搭建，自动测试，在测试中暂停代码，将不同测试迭代成一组。。。。。。</span><br><span class="line"></span><br><span class="line">----------</span><br><span class="line">模块和包</span><br><span class="line">	模块是搭建程序的一种方式，每一个python代码文件都是一个模块，并引用模块，比如对象和属性</span><br><span class="line">    一个包含许多python代码的文件夹是一个包，一个包可以包含模块和子文件夹</span><br><span class="line">    </span><br><span class="line">----------</span><br><span class="line">python日志</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.basicConfig()方法，配置需要的日志等级和相应的参数，，python解释器会按照配置的参数生成相应的日志</span><br><span class="line">-----------</span><br><span class="line">类型转换</span><br><span class="line">int(<span class="string">'str'</span>,base=<span class="string">'n'</span>)将特定禁止的字符串转换为十进制，再用相应的进制转换函数将十进制转换为目标进制</span><br><span class="line">内置转换 </span><br><span class="line">	tuple---&gt;list	tuple(list)</span><br><span class="line">    list---&gt;tuple	list(tuple)</span><br><span class="line"></span><br><span class="line">----------</span><br><span class="line">https://www.cnblogs.com/zanjiahaoge666/p/<span class="number">7475225.</span>html</span><br><span class="line">Python 中如何动态获取和设置对象的属性？</span><br><span class="line">	<span class="comment"># hasattr(object, name) 判断对象中是否存在name属性，name是字符串类型</span></span><br><span class="line">	<span class="keyword">if</span> hasattr(Parent，<span class="string">'x'</span>):</span><br><span class="line">        <span class="comment"># 获取object对象的属性的值，如果存在则返回属性值，没default会报错，有</span></span><br><span class="line">        print(getattr(Parent，<span class="string">'x'</span>))</span><br><span class="line">        setattr(Parent，<span class="string">'x'</span>）</span><br><span class="line">	<span class="comment"># 给object对象的name属性赋值value，如果对象原本存在给定的属性name</span></span><br><span class="line">	print(getattr(Parent，<span class="string">'x'</span>))</span><br></pre></td></tr></table></figure>

<p>字符串，列表，字典</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br></pre></td><td class="code"><pre><span class="line">一，字典</span><br><span class="line">	<span class="number">1.</span>字典dict，字典是一组键(key)和值(value)组合，通过key查找，没顺序，使用&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    d = &#123;<span class="string">'a'</span>:<span class="number">24</span>,<span class="string">'g'</span>:<span class="number">52</span>,<span class="string">'i'</span>:<span class="number">12</span>,<span class="string">'k'</span>:<span class="number">33</span>&#125;按字典value值排序</span><br><span class="line">    <span class="comment"># 匿名函数，lambda一次性函数</span></span><br><span class="line">    sorted(d.items(),key = <span class="keyword">lambda</span> x:x[<span class="number">1</span>])</span><br><span class="line">    </span><br><span class="line">    <span class="number">2.</span>说一下字典和json的区别</span><br><span class="line">    字典是一种数据结构，json是一种数据的表现形式，字典里的key值是hash就行，json必须是字符串</span><br><span class="line">    </span><br><span class="line">    <span class="number">3.</span>可变类型，不可变类型</span><br><span class="line">    可变：字典，列表</span><br><span class="line">    不可变类型：int，float，tuple，str</span><br><span class="line">    </span><br><span class="line">    <span class="number">4.</span>字典不会排序，需要用sorted函数</span><br><span class="line">    字典推导式：d = &#123;key:value <span class="keyword">for</span>(key,value) <span class="keyword">in</span> iterable&#125;</span><br><span class="line">    </span><br><span class="line">二，字符串</span><br><span class="line">	<span class="number">1.</span>如何理解python中字符串中的<span class="string">'\'字符</span></span><br><span class="line"><span class="string">    转义字符，路径名中用来连接路径，编码太长手写换行</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    2.反转字符串"aStr"</span></span><br><span class="line"><span class="string">    print('</span>aSt<span class="string">r'[::-1])</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    3.将字符串"k:1|k1:2|k2:3|k3:4"，处理成 Python 字典：&#123;k:1， k1:2， ... &#125; # 字典里的 K 作为字符串处理</span></span><br><span class="line"><span class="string">    str1 = "k:1|k1:2|k2:3|k3:4"</span></span><br><span class="line"><span class="string">    def str2dict(str1):</span></span><br><span class="line"><span class="string">        dict1 = &#123;&#125;</span></span><br><span class="line"><span class="string">        for items in str1.split['</span>|<span class="string">']</span></span><br><span class="line"><span class="string">        	key,value = items.split['</span>:<span class="string">']</span></span><br><span class="line"><span class="string">            dict1[key]=value</span></span><br><span class="line"><span class="string">        return dict1</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    4.请按 alist 中元素的 age 由大到小排序</span></span><br><span class="line"><span class="string">    alist [&#123;'</span>name<span class="string">':'</span>a<span class="string">'，'</span>age<span class="string">':20&#125;，&#123;'</span>name<span class="string">':'</span><span class="string">b'，'</span>age<span class="string">':30&#125;,&#123;'</span>name<span class="string">':'</span>c<span class="string">'，'</span>age<span class="string">':25&#125;]</span></span><br><span class="line"><span class="string">    def sort_by_age(list1):</span></span><br><span class="line"><span class="string">        return sorted(alist,key=lambda x:x['</span>age<span class="string">'],reverse=True)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">三。列表</span></span><br><span class="line"><span class="string">	list是python中常用的数据，又名数组[]，索引从0开始</span></span><br><span class="line"><span class="string">    name_list = ["zhangsan", "lisi", "wangwu", "zhaoliu"]</span></span><br><span class="line"><span class="string">    1.增加</span></span><br><span class="line"><span class="string">    1.1 insert(index,数据) 在指定位置插入数据，位置前有空元素会补位</span></span><br><span class="line"><span class="string">    name_list.insert(0,'</span>Sasuke<span class="string">') </span></span><br><span class="line"><span class="string">    --&gt; ['</span>Sasuke<span class="string">', '</span>zhangsan<span class="string">', '</span>lisi<span class="string">', '</span>wangw<span class="string">u', '</span>zhaoli<span class="string">u']</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    # 现有的列表下标是 0-4，如果我们要在下标是 6 的地方插入数据，那个会自动插入到下标为 5 的地方，也就是# 插入到最后</span></span><br><span class="line"><span class="string">    name_list.insert(6, "Tom")</span></span><br><span class="line"><span class="string">    ---&gt; ['</span>Sasuke<span class="string">', '</span>zhangsan<span class="string">', '</span>lisi<span class="string">', '</span>wangw<span class="string">u', '</span>zhaoli<span class="string">u','</span>Tom<span class="string">']</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    1.2 append(数据)：文件末尾追加数据</span></span><br><span class="line"><span class="string">    name_list.append('</span>Pyhton<span class="string">')</span></span><br><span class="line"><span class="string">    ---&gt; ['</span>Sasuke<span class="string">', '</span>zhangsan<span class="string">', '</span>lisi<span class="string">', '</span>wangw<span class="string">u', '</span>zhaoli<span class="string">u','</span>Tom<span class="string">','</span>Python<span class="string">']</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    1.3 extend(Iterable):将可迭代对象中的元素追加到列表</span></span><br><span class="line"><span class="string">     a = [11,22,22]</span></span><br><span class="line"><span class="string">     b = [44,55,66]</span></span><br><span class="line"><span class="string">     a.extend(b)</span></span><br><span class="line"><span class="string">     ---&gt; [11,22,33,44,55,66] </span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">     # 有列表 c 和 字符串 d c.extend(d) 会将字符串 d 中的每个字符拆开作为元素插入到列表c</span></span><br><span class="line"><span class="string">	c = ['</span>j<span class="string">', '</span>a<span class="string">', '</span>v<span class="string">', '</span>a<span class="string">']</span></span><br><span class="line"><span class="string">    d = "python"</span></span><br><span class="line"><span class="string">    c.extend(d)</span></span><br><span class="line"><span class="string">    ---&gt;  ['</span>j<span class="string">', '</span>a<span class="string">', '</span>v<span class="string">', '</span>a<span class="string">', '</span>p<span class="string">', '</span>y<span class="string">', '</span>t<span class="string">', '</span>h<span class="string">', '</span>o<span class="string">', '</span>n<span class="string">']</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    2.取值和修改</span></span><br><span class="line"><span class="string">    2.1 列表名[index] ：根据下标来取值</span></span><br><span class="line"><span class="string">     name_list = ["zhangsan", "lisi", "wangwu", "zhaoliu"]</span></span><br><span class="line"><span class="string">     name_list[0] ---&gt; ['</span>zhangsan<span class="string">']</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    2.2 列表名[index] = 数据：修改指定索引的数据</span></span><br><span class="line"><span class="string">    name_list[0] = "Sasuke"</span></span><br><span class="line"><span class="string">     ---&gt; ['</span>Sasuke<span class="string">', '</span>lisi<span class="string">', '</span>wangw<span class="string">u', '</span>zhaoli<span class="string">u']</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    3.删除</span></span><br><span class="line"><span class="string">    3.1 del 列表名[index]:删除指定索引的数据</span></span><br><span class="line"><span class="string">    name_list = ["zhangsan", "lisi", "wangwu", "zhaoliu"]# 删除索引是 1 的数据</span></span><br><span class="line"><span class="string">    del name_list[1]</span></span><br><span class="line"><span class="string">    ---&gt;  ['</span>zhangsan<span class="string">', '</span>wangw<span class="string">u', '</span>zhaoli<span class="string">u']</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    3.2 列表名.remove(数据)：删除第一个出现的指定数据</span></span><br><span class="line"><span class="string">    name_list = ["zhangsan", "lisi", "wangwu", "zhaoliu", "lisi"]# 删除 第一次出现的 lisi 的数据</span></span><br><span class="line"><span class="string">    name_list.remove['</span>lisi<span class="string">']</span></span><br><span class="line"><span class="string">    ---&gt;  ['</span>zhangsan<span class="string">', '</span>wangw<span class="string">u', '</span>zhaoli<span class="string">u', '</span>lisi<span class="string">']</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    3.3 列表名.pop()：删除末尾的数据,返回值: 返回被删除的元素。</span></span><br><span class="line"><span class="string">    name_list = ["zhangsan", "lisi", "wangwu", "zhaoliu"]# 删除最后一个元素 zhaoliu 并将元素 zhaoliu 返回</span></span><br><span class="line"><span class="string">    name_list.pop()</span></span><br><span class="line"><span class="string">    '</span>zhaoli<span class="string">u'</span></span><br><span class="line"><span class="string">    ---&gt;  ['</span>zhangsan<span class="string">', '</span>lisi<span class="string">', '</span>wangw<span class="string">u']</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    3.4 列表名.pop(index)：删除指定索引的数据，返回被删除的元素</span></span><br><span class="line"><span class="string">	name_list = ["zhangsan", "lisi", "wangwu", "zhaoliu"]# 删除索引为 1 的数据 lisi</span></span><br><span class="line"><span class="string">    name_list.pop(1)</span></span><br><span class="line"><span class="string">    '</span>lisi</span><br><span class="line">     [<span class="string">'zhangsan'</span>, <span class="string">'wangwu'</span>, <span class="string">'zhaoliu'</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="number">3.5</span> 列表名.clear()：清空整个列表的元素</span><br><span class="line">    </span><br><span class="line">    <span class="number">4.</span>排序</span><br><span class="line">    <span class="number">4.1</span> 列表名.sort()：升序排序 从小到大</span><br><span class="line">    a = [<span class="number">33</span>, <span class="number">44</span>, <span class="number">22</span>, <span class="number">66</span>, <span class="number">11</span>]</span><br><span class="line">    a.sort()</span><br><span class="line">    ---&gt; [11,22,33,44,66]</span><br><span class="line">    </span><br><span class="line">    <span class="number">4.2</span> 列表名.sort(reverse=<span class="literal">True</span>)：降序排序 从大到小</span><br><span class="line">    a = [<span class="number">33</span>, <span class="number">44</span>, <span class="number">22</span>, <span class="number">66</span>, <span class="number">11</span>]</span><br><span class="line">    a.sort(reverse=<span class="literal">True</span>)</span><br><span class="line">    ---&gt; [66,44,33,22,11]</span><br><span class="line">    </span><br><span class="line">    <span class="number">4.3</span> 列表名.reverse()：列表逆序、反转</span><br><span class="line">    a = [<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>]</span><br><span class="line">    a.reverse()</span><br><span class="line">    ---&gt; [55, 44, 33, 22, 11]</span><br><span class="line">    </span><br><span class="line">    <span class="number">5.</span>统计相关</span><br><span class="line">    <span class="number">5.1</span> len(list)：列表长度</span><br><span class="line">    a = [<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>]</span><br><span class="line">	 len(a)</span><br><span class="line">	---&gt;	 5</span><br><span class="line">    </span><br><span class="line">    <span class="number">5.2</span> 列表名.count(数据)：数据在列表中出现的次数</span><br><span class="line">    a = [<span class="number">11</span>, <span class="number">22</span>, <span class="number">11</span>, <span class="number">33</span>, <span class="number">11</span>]</span><br><span class="line">    a.count(11)  ---&gt; 3</span><br><span class="line">    </span><br><span class="line">    <span class="number">5.3</span> 列表名.index(数据)：数据在列表中首次出现时的索引，没有查到会报错</span><br><span class="line">    a = [<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">22</span>]</span><br><span class="line">    a.index(22)  ---&gt; 1</span><br><span class="line">    </span><br><span class="line">    <span class="number">5.4</span> <span class="keyword">if</span> 数据 <span class="keyword">in</span> 列表： 判断列表中是否包含某元素</span><br><span class="line">    a = [<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span> ,<span class="number">55</span>]</span><br><span class="line">    <span class="keyword">if</span> <span class="number">33</span> <span class="keyword">in</span> a:</span><br><span class="line">    	print(<span class="string">"找到了...."</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="number">6.</span>循环遍历</span><br><span class="line">    <span class="number">6.1</span> <span class="keyword">while</span>循环</span><br><span class="line">    a = [<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>]</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; len(a):</span><br><span class="line">    print(a[i])</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="number">6.2</span> <span class="keyword">for</span>循环</span><br><span class="line">    a = [<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    print(i)</span><br><span class="line">    </span><br><span class="line">列表输出结果</span><br><span class="line">   list = [<span class="string">'a'</span>， <span class="string">'b'</span>， <span class="string">'c'</span>， <span class="string">'d'</span>， <span class="string">'e'</span>]</span><br><span class="line">   <span class="keyword">print</span> list[<span class="number">10</span>:] </span><br><span class="line">   ---&gt;  []</span><br><span class="line">    下面的代码将输出[]，不会产生 IndexError 错误。就像所期望的那样，尝试用超出成员的个数的 index来获取某个列表的成员。</span><br><span class="line">    例如，尝试获取 list[<span class="number">10</span>]和之后的成员，会导致 IndexError。</span><br><span class="line">    然而，尝试获取列表的切片，开始的 index 超过了成员个数不会产生 IndexError，而是仅仅返回一个空列表。这成为特别让人恶心的疑难杂症，因为运行的时候没有错误产生，导致 bug 很难被追踪到。</span><br><span class="line">    </span><br><span class="line">    写一个公差为<span class="number">11</span>的等差数列</span><br><span class="line">    print([x*<span class="number">11</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)])</span><br><span class="line">    </span><br><span class="line">    给定两个列表，怎么找出他们相同的元素和不同的元素? </span><br><span class="line">    list1 = [<span class="number">1</span>，<span class="number">2</span>，<span class="number">3</span>]</span><br><span class="line">    list2 = [<span class="number">3</span>，<span class="number">4</span>，<span class="number">5</span>] <span class="comment"># 列表转集合</span></span><br><span class="line">	set1 = set(list1)</span><br><span class="line">    set2 = set(list2)</span><br><span class="line">    print(set1&amp;set2)</span><br><span class="line">    print(set1^set2)</span><br><span class="line">    </span><br><span class="line">    请写出一段 Python 代码实现删除一个 list 里面的重复元素?</span><br><span class="line">    <span class="number">1.</span>用集合set</span><br><span class="line">        l1 = [<span class="string">'b'</span>，<span class="string">'c'</span>，<span class="string">'d'</span>，<span class="string">'b'</span>，<span class="string">'c'</span>，<span class="string">'a'</span>，<span class="string">'a'</span>]</span><br><span class="line">        l2 = set(l1)  </span><br><span class="line">        print(l2)</span><br><span class="line">    <span class="number">2.</span>保持他们原来的排序</span><br><span class="line">    	list的sort方法</span><br><span class="line">        l1 = [<span class="string">'b'</span>，<span class="string">'c'</span>，<span class="string">'d'</span>，<span class="string">'b'</span>，<span class="string">'c'</span>，<span class="string">'a'</span>，<span class="string">'a'</span>]</span><br><span class="line">        l2 = list(set(l1))</span><br><span class="line">        l2.sort(key=l1.index)</span><br><span class="line">        print(l2)</span><br><span class="line">    	或者：</span><br><span class="line">        l1 = [<span class="string">'b'</span>，<span class="string">'c'</span>，<span class="string">'d'</span>，<span class="string">'b'</span>，<span class="string">'c'</span>，<span class="string">'a'</span>，<span class="string">'a'</span>]</span><br><span class="line">        l2 = sorted(set(l1),key=l1.index)</span><br><span class="line">        或者遍历：</span><br><span class="line">        l1 = [<span class="string">'b'</span>，<span class="string">'c'</span>，<span class="string">'d'</span>，<span class="string">'b'</span>，<span class="string">'c'</span>，<span class="string">'a'</span>，<span class="string">'a'</span>]</span><br><span class="line">        l2 = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> l1:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> i <span class="keyword">in</span> l2:</span><br><span class="line">                l2.append(i)</span><br><span class="line">        <span class="keyword">print</span> l2</span><br><span class="line">    </span><br><span class="line">    有如下数组 list = range(<span class="number">10</span>)我想取以下几个数组，应该如何切片？</span><br><span class="line">    [1，2，3，4，5，6，7，8，9] ---&gt; [1:]</span><br><span class="line">    [1，2，3，4，5，6] ---&gt; [1:7]</span><br><span class="line">    [3，4，5，6] ---&gt; [3:6]</span><br><span class="line">    [9] ---&gt; [-1]</span><br><span class="line">    [1，3，5，7，9] ---&gt; [1::2]</span><br><span class="line"></span><br><span class="line">	下面这段代码的输出结果是什么？请解释？</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">extendlist</span><span class="params">(val, list=[])</span>:</span></span><br><span class="line">        list.append(val)</span><br><span class="line">        <span class="keyword">return</span> list</span><br><span class="line">    list1 = extendlist(<span class="number">10</span>)</span><br><span class="line">    list2 = extendlist(<span class="number">123</span>, [])</span><br><span class="line">    list3 = extendlist(<span class="string">'a'</span>)</span><br><span class="line">    print(<span class="string">"list1 = %s"</span> %list1)</span><br><span class="line">    print(<span class="string">"list2 = %s"</span> %list2)</span><br><span class="line">    print(<span class="string">"list3 = %s"</span> %list3)</span><br><span class="line">    </span><br><span class="line">    list1 = [<span class="number">10</span>,<span class="string">'a'</span>]</span><br><span class="line">    list2 = [<span class="number">123</span>]</span><br><span class="line">    list3 = [<span class="number">10</span>,<span class="string">'a'</span>]</span><br><span class="line">    新的默认列表只在函数被定义的那一刻创建一次，当extendlist被没有指定特定参数的list调用时，这组list的值随后被使用，这是因为带有默认参数的表达式在函数被定义的时候被计算，不是在调用的时候被计算</span><br><span class="line">    </span><br><span class="line">    将以下 <span class="number">3</span> 个函数按照执行效率高低排序</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">(lIn)</span>:</span></span><br><span class="line">    l1 = sorted(lIn)</span><br><span class="line">    l2 = [i <span class="keyword">for</span> i <span class="keyword">in</span> l1 <span class="keyword">if</span> i&lt;<span class="number">0.5</span>]</span><br><span class="line">    <span class="keyword">return</span> [i*i <span class="keyword">for</span> i <span class="keyword">in</span> l2]</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span><span class="params">(lIn)</span>:</span></span><br><span class="line">    l1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> l1 <span class="keyword">if</span> i&lt;<span class="number">0.5</span>]</span><br><span class="line">    l2 = sorted(l1)</span><br><span class="line">    <span class="keyword">return</span> [i*i <span class="keyword">for</span> i <span class="keyword">in</span> l2]</span><br><span class="line">   </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f3</span><span class="params">(lIn)</span>:</span></span><br><span class="line">    l1 = [i*i <span class="keyword">for</span> i <span class="keyword">in</span> lIn]</span><br><span class="line">    l2 = sorted(l1)</span><br><span class="line">    <span class="keyword">return</span> [i <span class="keyword">for</span> i <span class="keyword">in</span> l1 <span class="keyword">if</span> i&lt;(<span class="number">0.5</span>*<span class="number">0.5</span>)]</span><br><span class="line">    </span><br><span class="line">    按执行效率从高到低排列：f2、f1 和 f3。要证明这个答案是正确的，你应该知道如何分析自己代码的性能。Python中有一个很好的程序分析包，可以满足这个需求。</span><br><span class="line">     <span class="keyword">import</span> random</span><br><span class="line">     <span class="keyword">import</span> cProfile</span><br><span class="line">     lIn = [random.random() <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100000</span>)]</span><br><span class="line">     cProfile.run(<span class="string">'f1(lIn)'</span>)</span><br><span class="line">     cProfile.run(<span class="string">'f2(lIn)'</span>)</span><br><span class="line">     cProfile.run(<span class="string">'f3(lIn)'</span>)</span><br><span class="line">    </span><br><span class="line">    获取 <span class="number">1</span>~<span class="number">100</span> 被 <span class="number">6</span> 整除的偶数？</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">A</span><span class="params">()</span>:</span></span><br><span class="line">        alist = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> rang(<span class="number">1</span>,<span class="number">100</span>):</span><br><span class="line">           <span class="keyword">if</span> i % <span class="number">6</span> == <span class="number">0</span>:</span><br><span class="line">    		 alist.append(i)</span><br><span class="line">        last_num = alist[<span class="number">-3</span>:]</span><br><span class="line">        print(last_num)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="函数、匿名函数"><a href="#函数、匿名函数" class="headerlink" title="函数、匿名函数"></a>函数、匿名函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">函数参数：</span><br><span class="line">	<span class="number">1.</span>python函数调用的时候参数的传递方式是值传递还是引用传递？</span><br><span class="line">    答：python参数传递有：位置参数、默认参数、可变参数、关键字参数</span><br><span class="line">    不可变参数值传递：整数和字符串这样的不可变对象是通过拷贝进行传递的，因此不可能在原处改变不可变对象</span><br><span class="line">    可变对象引用传递：列表，字典这样的对象是通过引用传递，和C指针传递数组类似，可变对象能在函数内部改变</span><br><span class="line"></span><br><span class="line">	<span class="number">2.</span>缺省函数的理解</span><br><span class="line">    调用函数的时候没传入参数的情况下，调用默认的参数，调用函数的同时赋值所传入参数会替代默认参数</span><br><span class="line">    *args 是不定长参数，可以表示输入参数是不确定的，可以是任意多个，返回元组</span><br><span class="line">    **kwargs 是关键字参数，赋值的时候以键等于值方式，参数是可以任意多对在定义函数的时候，返回的是列表</span><br><span class="line"></span><br><span class="line">    <span class="number">3.</span>为什么函数名字可以当参数用</span><br><span class="line">    python中一切皆对象，函数名是函数在内存中的空间，也是一个对象</span><br><span class="line">    </span><br><span class="line">    <span class="number">4.</span>python中<span class="keyword">pass</span>语句，占位，使程序不报错，不进行任何操作</span><br><span class="line">    </span><br><span class="line">内建函数：</span><br><span class="line">	<span class="number">1.</span> map 函数和 reduce 函数</span><br><span class="line">	map()包含两个参数，第一参数是一个函数f，第二参数是序列list(列表或元组)，其中函数（map第一个参数位置的函数）可以接受一个或多个参数</span><br><span class="line">    reduce()第一个参数函数f（里边必须包含两个参数），第二参数是序列（列表或元组），但是函数必须接受两个参数</span><br><span class="line">    </span><br><span class="line">    map()将传入函数依次作用序列的每个函数，每个元素都是独自被函数‘作用’一次 <span class="comment"># 得到一个新的list并返回</span></span><br><span class="line">    reduce() 将传入的函数作用在序列的第一个元素得到结果后，把这个结果继续与下一个元素作用 <span class="comment"># reduce()对list的每个元素反复调用函数f，并返回最终结构值</span></span><br><span class="line"></span><br><span class="line">    <span class="number">2.</span>递归函数停止的条件</span><br><span class="line">    递归的终止条件一般定义在递归函数内部，递归调用前要做一个条件判断，判断的结果选择是调用自身，还是<span class="keyword">return</span>返回终止递归</span><br><span class="line">	终止的条件：</span><br><span class="line">    判断递归次数是否达到某一限定值</span><br><span class="line">    判断运算的结果是否达到某个范围等，根据设计的目的来选择</span><br><span class="line"></span><br><span class="line">	<span class="number">3.</span>回调函数如何通信：把函数的指针（地址）作为参数传递给另一个函数，将整个函数当做一个对象，赋值给调用的函数</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------</span><br><span class="line">匿名函数</span><br><span class="line"></span><br><span class="line">https://www.cnblogs.com/xisheng/p/<span class="number">7301245.</span>html</span><br><span class="line">https://www.cnblogs.com/yangliguo/p/<span class="number">7921338.</span>html</span><br><span class="line">    </span><br><span class="line"><span class="keyword">lambda</span> [arg1[,arg2,...,argn]]：expression</span><br><span class="line"><span class="comment"># lambda参数列表：return [表达式] 变量</span></span><br><span class="line"><span class="comment"># 由于lambda返回的是哈数对象（构建的是一个函数对象），所以需要定义一个变量去接受</span></span><br><span class="line"></span><br><span class="line">函数只是一个表达式，方便实用，常用sorted搭配，例子如下：</span><br><span class="line">	sorted(d.items(),key = <span class="keyword">lambda</span> x:x[<span class="number">1</span>])</span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">sort_by_age</span><span class="params">(list1)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> sorted(alist,key=<span class="keyword">lambda</span> x:x[<span class="string">'age'</span>],reverse=<span class="literal">True</span>)</span><br><span class="line">匿名函数优点</span><br><span class="line">	<span class="number">1.</span>使用Python写一些脚本时，使用<span class="keyword">lambda</span>可以省去定义函数的过程，让代码更加精简。</span><br><span class="line">	<span class="number">2.</span>对于一些抽象的，不会被别的地方再重复使用的函数，有时候函数起个名字也是个难题，使用<span class="keyword">lambda</span>不需要考虑命名的问题</span><br><span class="line">	<span class="number">3.</span>使用<span class="keyword">lambda</span>在某些时候然后代码更容易理解</span><br></pre></td></tr></table></figure>

<h2 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">手写一个单例</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(object)</span>:</span></span><br><span class="line">    __instance = <span class="literal">None</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span><span class="params">(cls, *args, **kwargs)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> cls.__instance <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            cls.__instance = object.__new__(cls)</span><br><span class="line">            <span class="keyword">return</span> cls.__instance</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> cls.__instance</span><br><span class="line">        </span><br><span class="line">----------</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span><span class="params">(object)</span>:</span></span><br><span class="line">    _instance_lock = threading.Lock()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span><span class="params">(cls, *args, **kwargs)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> hasattr(Singleton, <span class="string">"_instance"</span>):</span><br><span class="line">            <span class="keyword">with</span> Singleton._instance_lock:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> hasattr(Singleton, <span class="string">"_instance"</span>):</span><br><span class="line">                    Singleton._instance = object.__new__(cls)  </span><br><span class="line">        <span class="keyword">return</span> Singleton._instance</span><br><span class="line"></span><br><span class="line">obj1 = Singleton()</span><br><span class="line">obj2 = Singleton()</span><br><span class="line">print(obj1,obj2)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">task</span><span class="params">(arg)</span>:</span></span><br><span class="line">    obj = Singleton()</span><br><span class="line">    print(obj)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    t = threading.Thread(target=task,args=[i,])</span><br><span class="line">    t.start()</span><br><span class="line">----------</span><br><span class="line">单例模式的应用场景有哪些？</span><br><span class="line">	<span class="number">1.</span>资源共享的情况下，避免由于资源操作时导致的性能或损耗等，如日志文件，应用配置</span><br><span class="line">    <span class="number">2.</span>控制资源的情况下，方便资源之间的互相通信，如线程池等。比如：网站的计数器，应用配置，多线程池，数据库配置数据库连接池，应用程序的日志应用</span><br></pre></td></tr></table></figure>

<h2 id="python习题"><a href="#python习题" class="headerlink" title="python习题"></a>python习题</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">输入某年某月某日，判断这一天是这一年的第几天，用标准库</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dayofyear</span><span class="params">()</span>:</span></span><br><span class="line">    year=input(<span class="string">"请输入年份："</span>)</span><br><span class="line">    month=input(<span class="string">"请输入月份："</span>)</span><br><span class="line">    day=input(<span class="string">"请输入天："</span>)</span><br><span class="line">    date1=datetime.date(year=int(year),month=int(month),day=int(day))</span><br><span class="line">    date2=datetime.date(year=int(year),month=<span class="number">1</span>,day=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> (date1-date2+<span class="number">1</span>)days</span><br><span class="line">----------</span><br><span class="line">打乱一个排好序的list对象</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.shuffle(alist)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="linux基本命令"><a href="#linux基本命令" class="headerlink" title="linux基本命令"></a>linux基本命令</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">liunx基础</span><br><span class="line">liunx基本命令：</span><br><span class="line">	绝对路径：从根目录算起来的路径 example：/home/python</span><br><span class="line">    相对路径：从当前目录算起来的路径 example： ./AAA ../BBB</span><br><span class="line">	pwd：查看当前所在文件夹</span><br><span class="line">    ls：显示文件夹内容 -alh显示权限隐藏文件 -F查看是否文件</span><br><span class="line">    touch ：文件不存在新建</span><br><span class="line">    cp ：copy复制文件 |cp 文件名 路径|cp 路径/文件名 路径|cp 文件名 路径/新的文件名|cp 文件夹 路径 -r</span><br><span class="line">    mkdir：创建新目录 -p递归创建文件夹</span><br><span class="line">    rm：删除文件名</span><br><span class="line">    rm -r：删除文件目录</span><br><span class="line">    cd ：切换文件夹 ~/根目录、../上级目录 -/上次所在目录 ./当前目录</span><br><span class="line">    mv：移动文件、重命名|mv 文件名 路径|mv 路径/文件名 路径|mv文件名 新文件名|mv 文件夹 路径</span><br><span class="line">    tree：树状图</span><br><span class="line">    clear：清屏</span><br><span class="line">    重定向：ls/cat/tree</span><br><span class="line">        &gt;:重定向 会覆盖之前的</span><br><span class="line">        &gt;&gt;:原有的基础上追加，文件不存在创建新文件</span><br><span class="line">--------------------------------------------</span><br><span class="line">软链接：等同于windows下的快捷方式，只是存储源文件的路径|ln -s 源文件 软链接文件</span><br><span class="line">硬链接：同一个文件有多个名字|ln 源文件 硬链接文件</span><br><span class="line">软链接只能指向文件和目录，硬链接只能指向文件</span><br><span class="line"></span><br><span class="line">---------------------------</span><br><span class="line">find 和 grep的区别</span><br><span class="line">	grep命令是一种强大的文本搜索工具，正则搜索文本，并把匹配行打印出来，使用权限是所有用户</span><br><span class="line">    find命令在目录结构中，并执行指定操作，从起始目录开始递归的搜索各个子目录，查找满足寻求条件的文件对之采取相关的操作</span><br><span class="line">    一句话：grep是查找匹配条件的行，find是全局搜索匹配条件的文件</span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">打包、解包</span><br><span class="line"></span><br><span class="line">tar：</span><br><span class="line">	当前目录下所有的文件打包成tar： tar -cvf a.tar * |-c打包|-f指定打包文件名|-v显示打包过程</span><br><span class="line">    把a.tar包内容解压到temp目录下：tar -xvf a.txt -C（大C） temp/   -x解包|-C指定解包路径</span><br><span class="line">    </span><br><span class="line">.gz：-z</span><br><span class="line">	压缩：tar -zcvf a.tar.gz *.txt</span><br><span class="line">    解压：tar -zxvf a.tar.gz -C gz/</span><br><span class="line">    </span><br><span class="line">.bz2：-j</span><br><span class="line">	压缩：tar -jcvf a.tar.gz *.txt</span><br><span class="line">	解压：tar -jxvf a.tar.gz -C bz2/</span><br><span class="line">    </span><br><span class="line">.zip</span><br><span class="line">	压缩：zip a *.txt 自动添加后缀生成a.zip</span><br><span class="line">    解压：unzip -d zip/ a.zip</span><br><span class="line">    </span><br><span class="line">----------------------------------------</span><br><span class="line">修改文件权限 chmod</span><br><span class="line">数字法</span><br><span class="line">	chmod <span class="number">777</span> bbb</span><br><span class="line">    r：<span class="number">4</span> | w：<span class="number">2</span> | x：<span class="number">1</span> | -：<span class="number">0</span></span><br><span class="line">字母法</span><br><span class="line">	chmod u=rw，g=---，o=r 文件名</span><br><span class="line">    u：拥有者  g：属组  o：其他用户  a：all</span><br><span class="line">    =：设置权限  +：增加权限  -：去掉权限</span><br><span class="line">	r：read   w：write  x：execute  </span><br><span class="line">-------------------------------------------------------</span><br><span class="line"></span><br><span class="line">关机命令：</span><br><span class="line">	reboot：重启</span><br><span class="line">    shutdown -r now：重启，shutdown会给别的用户提示</span><br><span class="line">    shutdown -h now：立刻关机，其中now相当于时间为<span class="number">0</span></span><br><span class="line">	shutdown -h <span class="number">20</span>:<span class="number">25</span> :系统在今天的<span class="number">2025</span>会关机</span><br><span class="line">    shutdown -h +<span class="number">10</span> ：系统再过<span class="number">10</span>分钟自动关机</span><br><span class="line">    init <span class="number">0</span>  关机</span><br><span class="line">    init <span class="number">6</span>	重启</span><br><span class="line"></span><br><span class="line">-------------------------------</span><br><span class="line">which：查找命令路径</span><br><span class="line">sudo：</span><br><span class="line">	临时拥有root权限：sudo vim /etc/passwd</span><br><span class="line">    切换root账户：sudo -s</span><br><span class="line">    显示当前用户：whoami</span><br><span class="line">    退出登录：exit</span><br><span class="line">sudo -s和 su root</span><br><span class="line">	切换root用户</span><br><span class="line">    	sudo -s ：没有切换root用户的运行环境（家目录）</span><br><span class="line">		su root：真正切换root用户（包括环境切换）</span><br><span class="line">修改用户密码：</span><br><span class="line">	passwd temp</span><br><span class="line">    passwd</span><br><span class="line">    sudo passwd temp</span><br><span class="line"></span><br><span class="line">scp远程拷贝：</span><br><span class="line">	远程文件拷贝：</span><br><span class="line">    scp 用户名@ip:/home/python/Desktop/b.txt .</span><br><span class="line">		远程源								本地当前目录</span><br><span class="line">        </span><br><span class="line">    远程的目录拷贝：</span><br><span class="line">    scp -r 用户名@ip:/home/python/Desktop/a .</span><br><span class="line">        </span><br><span class="line">    本地的temp目录拷贝给远程的路径：</span><br><span class="line">    scp -r temp python@<span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span>:/home/python/Desktop</span><br><span class="line">--------------------------------</span><br><span class="line"></span><br><span class="line">软件的安装和卸载</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install xx</span><br><span class="line">sudo apt-get remove xx</span><br><span class="line">        </span><br><span class="line">-----------------------</span><br><span class="line"></span><br><span class="line">vim三个模式：命令/编辑/末行</span><br><span class="line">命令模式：默认打开模式，esc退出</span><br><span class="line">	h/j/k/l ：左下上右</span><br><span class="line">    v：选择 V：按行选择</span><br><span class="line">    x/d：剪切</span><br><span class="line">    p：粘贴</span><br><span class="line">    </span><br><span class="line">    dd：删除一行</span><br><span class="line">    yy：复制一行</span><br><span class="line">    </span><br><span class="line">    u：撤销操作</span><br><span class="line">    ctrl+r：重做</span><br><span class="line">    </span><br><span class="line">    gg：文件开头</span><br><span class="line">    G：文件结尾</span><br><span class="line">    </span><br><span class="line">    ^:行首</span><br><span class="line">    $：行尾</span><br><span class="line"></span><br><span class="line">编辑模式：命令模式下i进入，esc退出进入命令模式</span><br><span class="line"></span><br><span class="line">末行模式：</span><br><span class="line">	w</span><br><span class="line">    q</span><br><span class="line">    wq</span><br><span class="line">    ！</span><br><span class="line"></span><br><span class="line">能够写出查找、替换命令</span><br><span class="line">	/找到内容</span><br><span class="line">	%s/a/A/g (所有都替换)</span><br><span class="line">	<span class="number">1</span>,<span class="number">10</span>s/a/A/g (<span class="number">1</span><span class="number">-10</span>行)</span><br></pre></td></tr></table></figure>

<h2 id="pyhon高级"><a href="#pyhon高级" class="headerlink" title="pyhon高级"></a>pyhon高级</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">对面向对象的理解：</span><br><span class="line">	面向对象是相对于面向过程而言的，面向过程是一种基于功能性分析，按照业务逻辑从上到下设计程序的方式，面对大型项目，很容易导致代码结构过去紧密，耦合度高，代码冗余；而面向对象是一种基于结构分析，以数据为中心的程序设计思想，在面向对象中有一样很重要的东西，叫做类。面向对象有三大特性：封装，继承。多态</span><br><span class="line">	</span><br><span class="line">继承：子类继承父类</span><br><span class="line">多态：鸭子类型（函数、方法可以接受一个任意类型的对象作为参数、返回值，只要该对象实现了代码后续用到的属性和方法就不会报错）</span><br><span class="line">封装：重复代码进行封装，解耦</span><br><span class="line"></span><br><span class="line">继承：继承自父类的类属性，所以都一样，指向同一块内存地址</span><br><span class="line">若更改子类的值，子类则指向新的内存地址</span><br><span class="line">若更改父类，那么也是指向新的内存地址</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-----------------------</span><br><span class="line">元类</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="number">1.</span>python中类方法，类实例方法，静态方法有何区别</span><br><span class="line">    类方法：是类对象的方法，在定义时需要在上方使用 <span class="string">'@classmethod'</span> 进行装饰，形参为cls，表示类对象，类对象和实例对象都可调用</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">(object)</span>:</span></span><br><span class="line">        __type = <span class="string">'狗'</span></span><br><span class="line">        <span class="comment"># 类方法，用classmethod来进行装饰</span></span><br><span class="line"><span class="meta">        @classmethod</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">get_type</span><span class="params">(cls)</span>:</span></span><br><span class="line">            <span class="keyword">return</span> cls.__type</span><br><span class="line">    print(Dog.get_type())</span><br><span class="line">        </span><br><span class="line">    类实例方法：是类实例化对象的方法，只有实例对象可以调用，形参为self，指代对象本身</span><br><span class="line">    </span><br><span class="line">    静态方法：是一个任意函数，在其上方使用 <span class="string">'@staticmethod'</span> 进行装饰，可以用对象直接调用，静态方法实际上跟该类没有太大关系</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">(object)</span>:</span></span><br><span class="line">        type = <span class="string">'狗'</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">            name = <span class="literal">None</span></span><br><span class="line">        <span class="comment"># 静态方法</span></span><br><span class="line"><span class="meta">        @staticmethod</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">introduce</span><span class="params">()</span>:</span>   <span class="comment"># 静态方法不会自动传递实例对象和类对象</span></span><br><span class="line">            print(<span class="string">'犬科哺乳动物，属于食肉目...'</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="number">2.</span>python中如何动态获取和设置对象的属性  </span><br><span class="line">    <span class="comment"># hasattr(Parent,'x') 判断Parent对象是否存在'x'属性，注意'x'为字符串，有则True，没有返回False</span></span><br><span class="line">    <span class="keyword">if</span> hasattr(Parent,<span class="string">'x'</span>)</span><br><span class="line">    	<span class="comment"># getattr(object, name[, default]) 判断object对象的属性的值，存在则返回属性值，不存在分为两种情况，没有default参数直接报错，有default则会返回定的default值</span></span><br><span class="line">    	print(getattr(Parent,<span class="string">'x'</span>))</span><br><span class="line">        <span class="comment"># setattr(object, name, value)给object对象的name属性赋值value，如果对象原本存在给定name属性，则setattr会更改属性为给定的value；如果对象原本不存在属性name，setattr会在对象中创建属性，并赋值给定的value；</span></span><br><span class="line">    	setattr(Parent,<span class="string">'x'</span>,<span class="number">3</span>) </span><br><span class="line">    print(getattr(Parent,<span class="string">'x'</span>))</span><br><span class="line">    </span><br><span class="line">----------</span><br><span class="line"></span><br><span class="line">python内存管理机制及调优手段</span><br><span class="line">	内存管理机制:引用计数，垃圾回收，内存池</span><br><span class="line">        </span><br><span class="line">    引用计数：</span><br><span class="line">    	引用计数是一种高效的内存管理手段，当一个python对象被引用其引用计数增加<span class="number">1</span>，不再被一个变量引用计数减<span class="number">1</span>，等于<span class="number">0</span>时对象被删除</span><br><span class="line">        </span><br><span class="line">    垃圾回收：</span><br><span class="line">    	<span class="number">1.</span>引用计数：当引用计数为<span class="number">0</span>时，没有引用指向该对象，对象就成为被回收的垃圾。如果出现循环引用的话，引用计数机制就不起作用</span><br><span class="line">        <span class="number">2.</span>标记清除：如果两个对象引用计数都为<span class="number">1</span>，仅仅在他们之间的循环引用，两个对象都是需要被回收的，引用虽然都为非<span class="number">0</span>，但实际引用为<span class="number">0</span>。将引用摘掉，得出两个对象的有效计数。</span><br><span class="line">        <span class="number">3.</span>分代回收</span><br><span class="line">        回收的内存块越多，垃圾检测带来的额外操作就越多，垃圾回收带来的额外操作越少；反之，需回收的内存块越少，垃圾检测就将比垃圾回收带来更少的额外操作</span><br><span class="line">    	内存块M经历多次垃圾清洗存活下来，划到集合A，新分配的内存分到集合B，垃圾收集先对B进行，使得垃圾收集机制需要处理的内存少了效率高了</span><br><span class="line">        </span><br><span class="line">    内存池：</span><br><span class="line">    	<span class="number">1.</span>python内存机制呈金字塔形状</span><br><span class="line">        <span class="number">2.</span>第<span class="number">0</span>层是C中的malloc，free等内存分配...</span><br><span class="line">        <span class="number">3.</span>第<span class="number">1</span>、<span class="number">2</span>层是内存池，有python的接口函数PyMem_Malloc函数实现，当对象小于<span class="number">256</span>k时由该层直接分配内存</span><br><span class="line">        <span class="number">4.</span>python内部默认小块内存与大块内存分界点在<span class="number">256</span>字节，小于<span class="number">256</span>字节PyMem_Malloc会在内存池中申请内存；大于<span class="number">256</span>字节PyMem_Malloc就蜕变为malloc行为</span><br><span class="line">    </span><br><span class="line">    调优手段：</span><br><span class="line">    <span class="number">1.</span>手动垃圾回收</span><br><span class="line">    <span class="number">2.</span>调高垃圾回收阈值</span><br><span class="line">    <span class="number">3.</span>避免循环利用（手动解循环引用和使用弱引用）</span><br><span class="line">    </span><br><span class="line">----------</span><br><span class="line">内存泄露是什么？如何避免？</span><br><span class="line">	疏忽或错误造成程序未能释放已经不再使用的内存情况，给应用程序分配某段内存后，设计错误失去了对该内存的控制，因而造成内存的浪费，导致程序运行速度变慢甚至系统崩溃</span><br><span class="line">    不使用就<span class="keyword">del</span> 删除一个对象的引用计数就可以防止</span><br><span class="line">    python扩展模块gc来查看不能回收的对象的详细信息</span><br><span class="line">    </span><br><span class="line">----------</span><br></pre></td></tr></table></figure>

<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span>G内存怎么读取一个<span class="number">5</span>G数据</span><br><span class="line">方法一：</span><br><span class="line">	通过生成器多次读取，每次读取数量相对少的数据（比如<span class="number">500</span>m）进行处理，处理后再读取后面的<span class="number">500</span>m数据</span><br><span class="line">方法二：</span><br><span class="line">	可以通过linux命令split切割成小文件，然后对数据进行处理，此方法效率比较高，可以按照行数切割，可以按照文件大小切割</span><br><span class="line">----------</span><br><span class="line">例子：现在考虑有一个jsonline格式的文件file.txt大小约为<span class="number">10</span>k，之前处理文件的代码如下所示：</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_lines</span><span class="params">()</span>:</span></span><br><span class="line">	l = []</span><br><span class="line">	<span class="keyword">with</span> open(<span class="string">'file.txt'</span>,<span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">		<span class="keyword">for</span> eachline <span class="keyword">in</span> f:</span><br><span class="line">		l.append(eachline)</span><br><span class="line">   	<span class="keyword">return</span> l</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span></span><br><span class="line">	<span class="keyword">for</span> e <span class="keyword">in</span> get_lines():</span><br><span class="line">        process(e)</span><br><span class="line">现在要处理一个大小为<span class="number">10</span>G的文件，但是内存只有<span class="number">4</span>G，如果现在只修改get_lines函数而其他代码保持不变的情况下，如果实现，需要考虑的问题有哪些？</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_lines</span><span class="params">()</span>:</span></span><br><span class="line">    l=[]</span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">'file.txt'</span>,<span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        data = f.readlines(<span class="number">10000</span>) <span class="comment"># readlines 读取整个文件到迭代器以供遍历</span></span><br><span class="line">    l.append(data)</span><br><span class="line">	<span class="keyword">yield</span> l	<span class="comment"># 迭代器返回一个个数据</span></span><br><span class="line">内存<span class="number">4</span>G无法一次性读取<span class="number">10</span>G数据，需要分批读入，分批读入数据要记录每次读入数据的位置，分批每次读入数据大小，太小会在读取操作上花费过多时间</span><br><span class="line">	</span><br><span class="line">----------</span><br><span class="line">read：读取整个文件</span><br><span class="line">readline:读取下一行，使用生成器方法</span><br><span class="line">readlines：读取整个文件到一个迭代器供遍历</span><br><span class="line">	</span><br><span class="line">----------</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_directory_contents</span><span class="params">(sPath)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    这个函数接受文件夹的名称作为输入参数</span></span><br><span class="line"><span class="string">    返回该文件夹中文件的路径</span></span><br><span class="line"><span class="string">    以及其包含文件夹中文件的路径</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">import</span> os</span><br><span class="line">    <span class="comment"># 获取目录列表listdir</span></span><br><span class="line">    <span class="keyword">for</span> sChild <span class="keyword">in</span> os.listdir(sPath):</span><br><span class="line">        schildPath = os.path.join(sPath,sChild)</span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(sChildPath):</span><br><span class="line">            print_directory_contents(ChildPath)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(sChildPath)</span><br></pre></td></tr></table></figure>

<h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git冲突解决：</span><br><span class="line">	<span class="number">1.</span>git merge冲突了，根据提示找到冲突的文件，解决冲突如果文件有冲突，那么会有类似的标记</span><br><span class="line">    <span class="number">2.</span>修改完之后，执行git add 冲突文件名</span><br><span class="line">    <span class="number">3.</span>git commit 注意：没有-m 选项 进去类似于vim的操作界面，把conflict相关的行删除掉直接push就可以了，因为刚刚已经执行过相关merge操作了</span><br></pre></td></tr></table></figure>

<h2 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">在浏览器输入http：//www.baidu.com接下来会发生什么？</span><br><span class="line"><span class="number">1.</span>解析域名-DNS解析将域名转换成IP和端口</span><br><span class="line">	找寻域名解析表：浏览器---系统上---交换机---DNS</span><br><span class="line"><span class="number">2.</span>建立TCP连接</span><br><span class="line">	应用层（http和https）---传输层（tcp）---网络层（IP）---链路层（mac地址）</span><br><span class="line"><span class="number">3.</span>发送请求</span><br><span class="line"><span class="number">4.</span>获得响应，浏览器解析html，css，js</span><br><span class="line"><span class="number">5.</span>发送ajax请求</span><br></pre></td></tr></table></figure>

<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>python中match和search的区别</span><br><span class="line">	match()只检测RE是不是在string的开始位置匹配</span><br><span class="line">    search()会扫描整个string匹配</span><br><span class="line">    也就是说match()在<span class="number">0</span>位置匹配成功的话才有返回</span><br><span class="line">    如果不是开始位置匹配成功的话，match()就返回none</span><br><span class="line">    </span><br><span class="line"><span class="number">2.</span>python字符串查找和替换？</span><br><span class="line">	re.findall(<span class="string">r'目的字符串'</span>，<span class="string">'原有字符串'</span>)	<span class="comment"># 查询 re.findall(r'cast','itcast.cn')[0]</span></span><br><span class="line">    re.sub(<span class="string">r'要替换的字符串'</span>，<span class="string">'要替换新字符串'</span>，<span class="string">'原始字符串'</span>)<span class="comment"># re.sub(r'cast','heima','itcast.cn')</span></span><br><span class="line">    </span><br><span class="line">3.贪婪匹配，用python匹配HTML g tag时候，&lt;.*&gt;和&lt;.*?&gt;区别？</span><br><span class="line">	&lt;.*&gt; <span class="comment"># 贪婪匹配，会从第一个'&lt;'匹配到最后一个'&gt;'，中间所有的字符串都会匹配到，中间可能会包含'&lt;&gt;'</span></span><br><span class="line">    &lt;.*?&gt; # 非贪婪匹配，会从第一个'&lt;'匹配遇到第一个'&gt;'结束，中间所有的字符串都会匹配到，不会包含'&lt;&gt;'</span><br><span class="line">    </span><br><span class="line"><span class="number">4.</span>正则关键字含义</span><br><span class="line">字符：</span><br><span class="line">    .			任意除换行符<span class="string">'\n'</span>外的字符	a.c	</span><br><span class="line">    \			转义字符				a. c或a\c</span><br><span class="line">    [...]		字符集					a[bcd]e</span><br><span class="line"></span><br><span class="line">预定义字符集：</span><br><span class="line">    \d		数字：[<span class="number">0</span><span class="number">-9</span>]	a\dc	w3c</span><br><span class="line">    \D		非数字：[^\d]	a\Dc	abc</span><br><span class="line">    \s		空白字符：[&lt;空格&gt;\ t\r\n\f\v]	a\sc	ac	</span><br><span class="line">    \S		非空白字符：[^\s]    a\Sc    abc</span><br><span class="line">    \w		单词字符：[A-Za-z0<span class="number">-9</span>_]	a\wc	abc</span><br><span class="line">    \W		非单词字符：[^\W]		a\Wc	ac</span><br><span class="line"></span><br><span class="line">数量词：</span><br><span class="line">    *		匹配<span class="number">0</span>或无限次			abc*	ab或abccc</span><br><span class="line">    +		匹配<span class="number">1</span>或无限次			abc+	abc或abccc</span><br><span class="line">    ?		匹配0或1次			 abc？	 ab或abc</span><br><span class="line">    &#123;m&#125;		匹配前一个字符m次	   ab&#123;<span class="number">2</span>&#125;c	abbc</span><br></pre></td></tr></table></figure>

<h2 id="闭包、装饰器"><a href="#闭包、装饰器" class="headerlink" title="闭包、装饰器"></a>闭包、装饰器</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">代码遵循：</span><br><span class="line">	开放封闭原则，封闭：已实现的功能代码块；开放：对扩展开放。</span><br><span class="line">    </span><br><span class="line">闭包：</span><br><span class="line">	内部函数和使用的外部函数提供的变量构成的整体称为闭包。</span><br><span class="line">	<span class="number">1.</span>函数嵌套定义在外部函数中 </span><br><span class="line">	<span class="number">2.</span>外部函数会 返回内部函数定义的函数</span><br><span class="line">    <span class="number">3.</span>内部函数会使用外部函数的参数</span><br><span class="line">    <span class="function"><span class="keyword">def</span> 外部函数<span class="params">(arg)</span>:</span></span><br><span class="line">        <span class="comment"># 定义了内部函数，不会马上执行</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> 内部函数<span class="params">()</span>:</span></span><br><span class="line">            会使用到arg</span><br><span class="line">        <span class="keyword">return</span> 内部函数</span><br><span class="line">        </span><br><span class="line">	例子：</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(rate)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">do_rate</span><span class="params">(money)</span>:</span></span><br><span class="line">            print(money*rate)</span><br><span class="line">        <span class="keyword">return</span> do_rate <span class="comment"># 返回内部函数的引用给调用者</span></span><br><span class="line"></span><br><span class="line">    usa_rate = test(<span class="number">0.6</span>)</span><br><span class="line">    usa_rate(<span class="number">100</span>)</span><br><span class="line">    usa_rate(<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line">    </span><br><span class="line">装饰器：</span><br><span class="line">	在不改变原有代码的基础上，扩展原有代码的功能。</span><br><span class="line">使用地方：</span><br><span class="line">	-&gt; 认证  -&gt; 日志  -&gt; 加密  -&gt;...</span><br><span class="line"></span><br><span class="line">装饰器定义：</span><br><span class="line">	装饰器就是一个特殊的闭包，外部接手的参数必须是函数</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fun_out</span><span class="params">(func)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fun_in</span><span class="params">()</span>:</span></span><br><span class="line">            ...</span><br><span class="line">            func()</span><br><span class="line">        <span class="keyword">return</span> fun_in</span><br><span class="line"></span><br><span class="line">装饰器使用</span><br><span class="line"><span class="meta">	@func_out</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'登录'</span>)</span><br><span class="line">    </span><br><span class="line">装饰器装饰带一个参数的函数</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">func_out</span><span class="params">(func)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">func_in</span><span class="params">(a)</span>:</span></span><br><span class="line">            ...</span><br><span class="line">            fun_in(a)</span><br><span class="line">        <span class="keyword">return</span> func_in</span><br><span class="line"><span class="meta">	@func_out</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">(a)</span>:</span></span><br><span class="line">        print(a)</span><br><span class="line">    </span><br><span class="line">装饰器装饰带多个参数的函数 </span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">func_out</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">func_in</span><span class="params">(*args,**kwargs)</span>:</span></span><br><span class="line">            ...</span><br><span class="line">            func(*args,**kwargs)</span><br><span class="line">        <span class="keyword">return</span> func_in</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @func_out</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">(*args,**kwargs)</span>:</span></span><br><span class="line">        print(args)	 ==&gt; 元组</span><br><span class="line">        print(kwargs)  	==&gt; 字典</span><br><span class="line">    </span><br><span class="line">装饰器：写出一个计时器记录方法执行性能</span><br><span class="line">	<span class="keyword">import</span> time</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">timeit</span><span class="params">(func)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">()</span>:</span></span><br><span class="line">            start = time.clock()</span><br><span class="line">            func() end =time.clock()</span><br><span class="line">            print(<span class="string">'used:%'</span>，end-start)</span><br><span class="line">            <span class="keyword">return</span> wrapper</span><br><span class="line"><span class="meta">    @timeit</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'foo'</span>)</span><br><span class="line">    </span><br><span class="line">装饰器具体使用例子Flask </span><br><span class="line">	F:\python就业班\就业班每日Flask框架\Flask项目day05(新闻详情页)\<span class="number">03</span>-加密视频</span><br><span class="line">    装饰器路由</span><br><span class="line"><span class="meta">    @app.route('/index')</span></span><br></pre></td></tr></table></figure>

<h2 id="生成器、迭代器"><a href="#生成器、迭代器" class="headerlink" title="生成器、迭代器"></a>生成器、迭代器</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">迭代器：</span><br><span class="line">	任何对象，如果它的类有next方法和iter方法返回自己本身，对于字符串、列表、字典、元组等这类容器对象，使用<span class="keyword">for</span>循环遍历是很方便的，在后台<span class="keyword">for</span>语句对容易对象调用iter()函数，iter()是python内置函数，iter()会返回一个定义了next()方法的迭代器对象，它在容易逐个访问容器内内元素，next()也是python的内置函数，在没有后续元素时，next()会抛出一个StopIteration异常</span><br><span class="line"></span><br><span class="line">生成器Generator：</span><br><span class="line">	创建迭代器的简单而强大的工具，写起来像是正规的函数，需要返回数据的时候使用<span class="keyword">yield</span>语句，每次next()被调用，生成器会返回它脱离的位置(它记忆语句最后一次执行的位置和所有的数据值)</span><br><span class="line">    </span><br><span class="line">区别：</span><br><span class="line">	生成器能做到迭代器的所有事，因为自动创建了iter() next()方法，生成器显得特别简洁，而且高效，使用生成器表达式取代列表解析可以同时节省内存，除了创建和保存程序状态的自动方法，当发生器终结时还会抛出StopIteration异常</span><br><span class="line">    </span><br><span class="line"><span class="keyword">yield</span>的用法</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">createGenerator</span><span class="params">()</span>:</span></span><br><span class="line">    mylist = range(<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> mylist:</span><br><span class="line">        <span class="keyword">yield</span> i*i</span><br><span class="line">        </span><br><span class="line">	&gt;&gt;&gt; mygenerator = createGenerator() <span class="comment"># create a generator</span></span><br><span class="line">	&gt;&gt;&gt; print(mygenerator) <span class="comment"># mygenerator is an object!</span></span><br><span class="line">	&lt;generator object createGenerator at <span class="number">0xb7555c34</span>&gt;</span><br><span class="line">	&gt;&gt;&gt; <span class="keyword">for</span> i <span class="keyword">in</span> mygenerator:</span><br><span class="line">	... print(i)</span><br><span class="line">	<span class="number">0</span></span><br><span class="line">	<span class="number">1</span></span><br><span class="line">	<span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="系统编程"><a href="#系统编程" class="headerlink" title="系统编程"></a>系统编程</h2><h4 id="01-进程"><a href="#01-进程" class="headerlink" title="01-进程"></a>01-进程</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">程序运行在操作系统上的一个实例就称为进程。进程需要相应的系统资源：内存、事件片、pid</span><br><span class="line"><span class="comment"># 进程之间不共享全局变量</span></span><br><span class="line"><span class="comment"># 主进程会等待所有的子进程执行完成程序再退出</span></span><br><span class="line"><span class="comment"># 除非设置守护进程（主进程结束会杀死守护进程，不等待守护进程，仍然等待其他的非守护进程</span></span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>Process([group [, target [, name [, args [, kwargs]]]]])</span><br><span class="line"></span><br><span class="line">    group：指定进程组，目前只能使用<span class="literal">None</span></span><br><span class="line">    target：执行的目标任务名</span><br><span class="line">    name：进程名字</span><br><span class="line">    args：以元组方式给执行任务传参</span><br><span class="line">    kwargs：以字典方式给执行任务传参</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>Process创建的实例对象的常用方法：</span><br><span class="line"></span><br><span class="line">    start()：启动子进程实例（创建子进程）</span><br><span class="line">    join([timeout])：是否等待子进程执行结束，或等待多少秒</span><br><span class="line">    terminate()：不管任务是否完成，立即终止子进程</span><br><span class="line">    is_alive()：判断进程子进程是否还在活着</span><br><span class="line">    </span><br><span class="line"><span class="number">3.</span>Process创建的实例对象的常用属性：</span><br><span class="line"></span><br><span class="line">    name：当前进程的别名，默认为Process-N，N为从<span class="number">1</span>开始递增的整数</span><br><span class="line">    pid：当前进程的pid（进程号）</span><br></pre></td></tr></table></figure>

<ul>
<li>多进程完成多任务代码</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing <span class="comment"># 导入进程模块</span></span><br><span class="line"><span class="keyword">import</span> time </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_proc</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""子进程要执行的代码"""</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">'___2___'</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line"><span class="keyword">if</span> __name__ = <span class="string">'__main__'</span></span><br><span class="line">	<span class="comment"># 创建子进程</span></span><br><span class="line">    sub_process = multiprocessing.Process(target=run_proc)</span><br><span class="line">    <span class="comment"># 启动子进程</span></span><br><span class="line">    sub_process.start()</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">'————1————'</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">执行结果：</span><br><span class="line">————<span class="number">1</span>————</span><br><span class="line">___2___</span><br><span class="line">————<span class="number">1</span>————</span><br><span class="line">___2___</span><br><span class="line">————<span class="number">1</span>————</span><br><span class="line">___2___</span><br></pre></td></tr></table></figure>

<ul>
<li>获取进程pid</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">work</span><span class="params">()</span>:</span></span><br><span class="line">    current_process = multiprocessing.current_process()</span><br><span class="line">    print(<span class="string">'work:'</span>, current_process)</span><br><span class="line">    <span class="comment"># 获取当前进程编号</span></span><br><span class="line">    print(<span class="string">'work进程编号：'</span>,current_process.pid, os.getpid)</span><br><span class="line">    <span class="comment"># 获取父进程编号</span></span><br><span class="line">    print(<span class="string">'work父进程编号：'</span>,os.getpid())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        print(<span class="string">'working...'</span>)</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">        os.kill(os.getpid(), <span class="number">9</span>)  <span class="comment"># 根据进程编号杀死程序kill -9同理</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment"># 查看当前进程</span></span><br><span class="line">    current_process = multiprocessing.current_process()</span><br><span class="line">    print(<span class="string">'main'</span>, current_process)</span><br><span class="line">    <span class="comment"># 获取当前进程的编号</span></span><br><span class="line">    print(<span class="string">'main进程的编号：'</span>, current_process.pid)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建子进程</span></span><br><span class="line">    sub_process = multiprocessing.Process(target=work)</span><br><span class="line">    <span class="comment"># 启动</span></span><br><span class="line">    sub_process.start()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 主进程执行打印信息操作</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">20</span>):</span><br><span class="line">        print(<span class="string">'我在主进程中执行'</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">        </span><br><span class="line">执行结果：</span><br><span class="line">main: &lt;_MainProcess(MainProcess, started)&gt;</span><br><span class="line">main进程的编号: <span class="number">67264</span></span><br><span class="line">我在主进程中执行...</span><br><span class="line">work: &lt;Process(Process<span class="number">-1</span>, started)&gt;</span><br><span class="line">work进程编号: <span class="number">71956</span> <span class="number">71956</span></span><br><span class="line">work父进程的编号: <span class="number">67264</span></span><br><span class="line">working...</span><br><span class="line">我在主进程中执行...</span><br><span class="line">我在主进程中执行...</span><br></pre></td></tr></table></figure>

<ul>
<li>进程间通信Queue（因为不共享全局变量）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing </span><br><span class="line"><span class="keyword">import</span> time </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    queue = multiprocessing.Queue(<span class="number">3</span>)</span><br><span class="line">    queue.put(<span class="number">1</span>)</span><br><span class="line">    queue.put(<span class="string">'hello'</span>)</span><br><span class="line">    queue.put([<span class="number">3</span>,<span class="number">5</span>]) <span class="comment"># 向队列放入值使用put方法</span></span><br><span class="line">    queue.get() <span class="comment"># 取值用get</span></span><br></pre></td></tr></table></figure>

<ul>
<li>进程池（会自动创建销毁进程）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">work1</span><span class="params">(n)</span>:</span></span><br><span class="line">    print(<span class="string">'pid:'</span>, multiprocessing.current_process().pid,n)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    pool = multiprocessing.Pool(<span class="number">3</span>)</span><br><span class="line">	</span><br><span class="line">    <span class="string">"""同步方式"""</span></span><br><span class="line">    <span class="comment"># for i in range(5):</span></span><br><span class="line">    <span class="comment">#     pool.apply(work1,args=(i,))</span></span><br><span class="line">    </span><br><span class="line">    <span class="string">"""异步方式执行"""</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">        pool.apply_async(work1,args=(i,))</span><br><span class="line">    <span class="comment"># 关闭进程池,不允许添加新的任务</span></span><br><span class="line">    pool.close()</span><br><span class="line">    <span class="comment"># join:等待进程池所有进程执行完毕</span></span><br><span class="line">    pool.join()</span><br></pre></td></tr></table></figure>

<h4 id="02-线程"><a href="#02-线程" class="headerlink" title="02-线程"></a>02-线程</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">线程就是在程序运行过程中，执行程序代码的一个分支，每个运行的程序至少都有一个线程</span><br><span class="line"></span><br><span class="line"><span class="comment"># 线程之间执行是无序的</span></span><br><span class="line"><span class="comment"># 主线程会等待所有的子线程结束后才结束，如果需要可以设置守护主线程</span></span><br><span class="line"></span><br><span class="line">线程会共享全局变量，抢夺资源的现象，可以通过线程同步解决问题比如互斥锁等，但这样又会使得多线程转化为单线程 <span class="comment"># 可以time.sleep解决，或者join</span></span><br></pre></td></tr></table></figure>

<ul>
<li>多线程完成多任务</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">table1</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        print(<span class="string">'正在服务第一桌用户'</span>)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">table2</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        print(<span class="string">'正在服务第二桌用户'</span>)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    sub_thread = threading.Thread(target=table1)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># 运行子线程，start，多线程执行顺序未知，取决于操作系统的算法调度</span></span><br><span class="line">    sub_thread.start()</span><br><span class="line">    table2()</span><br></pre></td></tr></table></figure>

<ul>
<li>多线程的参数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">table1</span><span class="params">(num)</span>:</span></span><br><span class="line">    print(threading.current_thread())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(num):</span><br><span class="line">        print(<span class="string">'正在服务第一桌用户'</span>)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">table2</span><span class="params">(number)</span>:</span></span><br><span class="line">    print(threading.current_thread())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(number):</span><br><span class="line">        print(<span class="string">'正在服务第二桌用户'</span>)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment">#   group : 线程组 现在必须设置None</span></span><br><span class="line">    <span class="comment">#   name : 线程的名字</span></span><br><span class="line">    <span class="comment">#   target : 指定任务名</span></span><br><span class="line">    <span class="comment">#   args : 给任务传递参数 (以元组的方式传递参数)</span></span><br><span class="line">    <span class="comment">#   kwargs : 给任务传递参数(以字典的方式传递参数)</span></span><br><span class="line">    t1 = threading.Thread(group=<span class="literal">None</span>, target=table1, name=<span class="string">'mythread1'</span>, args=(<span class="number">5</span>,))</span><br><span class="line">    t2 = threading.Thread(target=table2, kwargs=&#123;<span class="string">"number"</span>:<span class="number">9</span>&#125;)</span><br><span class="line">    <span class="comment"># 启动多线程</span></span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 主线程会等待所有子线程结束才结束</span></span><br><span class="line">    print(<span class="string">'老板负责管理'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>守护线程</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">table1</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">		print(<span class="string">'service customer'</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment"># daemon=True 设置守护线程，如果设置为守护线程，主线程不会等待子线程结束，主线程结束，所有守护线程也结束</span></span><br><span class="line">    sub_thread = threading.Thread(target=table1,daemon=<span class="literal">True</span>)</span><br><span class="line">    sub_thread.start()</span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    print(<span class="string">'主线程结束'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="03-协程"><a href="#03-协程" class="headerlink" title="03-协程"></a>03-协程</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">协程，又称微线程，纤程,也称为用户级线程，在不开辟线程的基础上完成多任务，也就是在单线程的情况下完成多任务，多个任务按照一定顺序交替执行 通俗理解只要在<span class="function"><span class="keyword">def</span>里面只看到一个<span class="title">yield</span>关键字表示就是协程</span></span><br></pre></td></tr></table></figure>

<h4 id="04-多线程，多线程，协程的理解"><a href="#04-多线程，多线程，协程的理解" class="headerlink" title="04-多线程，多线程，协程的理解"></a>04-多线程，多线程，协程的理解</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">	线程cpython中是伪多线程，因为历史原因会造成全局资源共享导致抢夺资源，需要用gil锁</span><br><span class="line">下载文件时使用过多线程技术，业余时间用过多线程爬虫，提升效率</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>进程：一个运行程序（代码）就是一个进程，没有运行的代码叫程序，进程是系统资源分配的最小单位，进程拥有自己的独立内存空间，所以进程间数据不共享，开销大</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>线程：调度执行的最小单位，也叫执行路径，不能独立存在，必须依赖进程，一个进程必须至少有一个线程，叫主线程，而多个线程共享内存（内存共享，共享全局变量）从而极大提高了程序的运行效率</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>协程：是一种用户态的轻量级线程，协程的调度完全由用户控制，协程拥有自己的寄存器上下文和栈。协程调度切换时，将寄存器上下文和栈保存到其他地方，在切回来的时候，恢复先前保存的寄存器上下文和栈，直接操作栈则基本没有内核切换的开销，可以不加锁的访问全局变量，所以上下文的切换非常快</span><br></pre></td></tr></table></figure>

<h4 id="05-多线程竞争"><a href="#05-多线程竞争" class="headerlink" title="05-多线程竞争"></a>05-多线程竞争</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>线程是非独立的，同一个线程里线程是数据共享的，当哥哥线程访问数据资源时会出现竞争状态即：数据几乎同步会被多个线程占用，造成数据混乱，即所谓的线程不安全，解决的办法最简单就是锁</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>锁的好处：确保了某段关键代码（共享数据资源）只能由一个线程从头到尾完整地执行能解决多线程资源竞争下的原子操作问题</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>锁的坏处：阻止了多线程的并发，包含锁的代码其实是只能以单线程的模式执行，执行完毕再执行另一个线程，效率就大大下降了</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>锁的致命问题：死锁</span><br><span class="line">	若干子线程在系统资源竞争的时候，都在等待对方对某部分资源解除占用状态，结果是谁也不愿先解锁，互相干等着，程序无法继续运行下去，造成死锁问题</span><br><span class="line">    GIL锁 全局解释器锁（Cpython中才有） <span class="comment"># 作用：限制多线程同时执行，保证同一时间只有一个线程执行，所以是伪多线程</span></span><br><span class="line">    所以python里常用 协程技术代替多线程，协程是一个轻量级线程</span><br><span class="line">    进程和线程的切换又系统决定，而协程由程序员决定，模块gevent在遇到耗时操作会自动切换</span><br><span class="line">    </span><br><span class="line"><span class="number">5.</span>线程安全，互斥锁？</span><br><span class="line">	每个对象都对应一个可称为<span class="string">'互斥锁'</span>的标记，这个标记用来保证同一时刻只有一个线程访问该对象，同一个进程中的多线程之间是共享系统资源的，多个线程同时对一个对象进行操作，一个线程操作尚未结束，另一个线程已经对其进行操作，导致最终结果出现错误，此时需要对被操作对象添加互斥锁，保证每个线程对该对象的操作都能得到正确的结果</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>僵尸进程和孤儿进程</span><br><span class="line">孤儿进程：父进程退出，子进程还在运行的子进程都是孤儿进程，孤儿进程被init进程（进程号为<span class="number">1</span>）所收养，并由init进程对他们完成状态手机工作 <span class="comment"># 被父遗弃的进程</span></span><br><span class="line"></span><br><span class="line">僵尸进程：进程由fork创建子进程，如果子进程退出，父进程没有调用wait或waitpid获取子进程的状态信息，那么子进程的进程描述符仍保存在系统中的这些进程是僵尸进程 <span class="comment"># 被子遗弃的进程</span></span><br><span class="line">避免僵尸进程的方法：</span><br><span class="line">    <span class="number">1.</span>fork 两次用孙子进程去完成子进程的任务；</span><br><span class="line">    <span class="number">2.</span>用 wait()函数使父进程阻塞；</span><br><span class="line">    <span class="number">3.</span>使用信号量，在 signal handler 中调用 waitpid，这样父进程不用阻塞。</span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>并行并发，阻塞非阻塞，IO密集型和CPU密集型</span><br><span class="line">并行：同一时刻多个任务同时在运行</span><br><span class="line">并发:同一时间间隔内多个任务都在运行，并不在同一时刻运行，存在交替执行的情况</span><br><span class="line"></span><br><span class="line">同步：多个程序有先后顺序执行，一个执行才能下一个</span><br><span class="line">异步：多个任务之间没有先后顺序，可以同时执行有时候一个任务可能要在必要的时候获取另一个同时执行的任务的结果，这叫回调</span><br><span class="line">    </span><br><span class="line">阻塞:卡住了调用者，调用者不能继续执行下去了，就是阻塞</span><br><span class="line">非阻塞:如果不会卡住，继续执行，就是说非阻塞</span><br><span class="line"></span><br><span class="line">IO密集型:系统操作，大部分状况是CPU在等 I/O（硬盘/内存）的读/写	<span class="comment"># 适合多线程</span></span><br><span class="line">CPU密集型:大部分时间用来做计算，逻辑判断等CPU动作的程序		<span class="comment"># 适合多进程</span></span><br></pre></td></tr></table></figure>

<h2 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h2><h4 id="01-UDP协议"><a href="#01-UDP协议" class="headerlink" title="01-UDP协议"></a>01-UDP协议</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">优点：无连接，资源开销小，传输速度快，每个数据包最大是64k</span><br><span class="line">缺点：传输数据不可靠，容易丢数据包，没有流量控制</span><br><span class="line">使用场景：发送广播消息，传输视频音频</span><br></pre></td></tr></table></figure>

<h4 id="02-TCP协议"><a href="#02-TCP协议" class="headerlink" title="02-TCP协议"></a>02-TCP协议</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">优点：可靠，稳定，适合传输大量数据，有流量控制</span><br><span class="line">缺点：传输速度慢，占用系统资源高</span><br><span class="line">使用场景：浏览器，QQ文件传输</span><br></pre></td></tr></table></figure>

<h4 id="03-TCP的三次握手"><a href="#03-TCP的三次握手" class="headerlink" title="03-TCP的三次握手"></a>03-TCP的三次握手</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">我要向你发起连接你准备好了吗</span><br><span class="line">准备好了你发过来吧</span><br><span class="line">好勒，我发了</span><br></pre></td></tr></table></figure>

<h4 id="04-TCP的四次挥手"><a href="#04-TCP的四次挥手" class="headerlink" title="04-TCP的四次挥手"></a>04-TCP的四次挥手</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">我要断开连接了</span><br><span class="line">好的你断开吧</span><br><span class="line">我再跟你确定一次断开</span><br><span class="line">嗯断开吧</span><br></pre></td></tr></table></figure>

<h2 id="demo练习"><a href="#demo练习" class="headerlink" title="demo练习"></a>demo练习</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">类与对象练习</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""家具类"""</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, type, area)</span>:</span></span><br><span class="line">        self.type = type</span><br><span class="line">        self.area = area</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"家具为%s， 占地面积为%d "</span>% (self.type, self.area)</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Home</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""房子类"""</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, address, area)</span>:</span></span><br><span class="line">        self.address = address</span><br><span class="line">        self.area = area</span><br><span class="line">        self.free_area = area</span><br><span class="line">        self.items = []</span><br><span class="line">        </span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span></span></span><br><span class="line">		return "房子在：%s,面积为：%d，剩余面积为：%d" %(self.address,self.area,self.free_area)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_item</span><span class="params">(self,item)</span></span></span><br><span class="line"><span class="function">		"""添加家具"""</span></span><br><span class="line">        result_area = self.free_area - item.area</span><br><span class="line">        <span class="keyword">if</span> result_area &gt;= <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">'%s 添加成功'</span> % item.type)</span><br><span class="line">            self.items.append(item)</span><br><span class="line">            self.free_area -= item.area</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'房子面积不足，%s添加失败'</span>% item.type)</span><br></pre></td></tr></table></figure>

<p>正则匹配 IPV4</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(25[0-5]|2[0-4]\d|[0-1]?\d?\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d))&#123;3&#125;$</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/20/复习—数据库/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MrBean">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MrBean">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/20/复习—数据库/" itemprop="url">SQL语法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-06-20T18:15:31+08:00">
                2019-06-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/自学/" itemprop="url" rel="index">
                    <span itemprop="name">自学</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="省市区三级联动"><a href="#省市区三级联动" class="headerlink" title="省市区三级联动"></a>省市区三级联动</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">建表：</span><br><span class="line">    create table areas(</span><br><span class="line">        aid int primary key,</span><br><span class="line">        atitle varchar(<span class="number">20</span>)</span><br><span class="line">        pid int</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">查询省:</span><br><span class="line">	select count(*) <span class="keyword">from</span> areas where pid <span class="keyword">is</span> null;</span><br><span class="line">    </span><br><span class="line">查询广西省下的市：</span><br><span class="line">	select city.* <span class="keyword">from</span> areas <span class="keyword">as</span> city inner join areas <span class="keyword">as</span> province on city.pid==province.aid where province.atitle=<span class="string">'广西省'</span>；</span><br><span class="line">    <span class="comment"># 自关联查询，as起别名city、as起别名province，通过两边查询的pid=aid决定</span></span><br><span class="line">	</span><br><span class="line">查询梧州市下的县：</span><br><span class="line">	select dis.* <span class="keyword">from</span> areas <span class="keyword">as</span> dis inner join areas <span class="keyword">as</span> city on city.aid==dis.pid where city.atitle=<span class="string">'梧州市'</span>；</span><br></pre></td></tr></table></figure>

<h2 id="三范式和事务"><a href="#三范式和事务" class="headerlink" title="三范式和事务"></a>三范式和事务</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">第一范式：数据库表的每一列都是不可分割的原子数据项，即原子性，列不可拆分 <span class="comment"># 不可拆分</span></span><br><span class="line">第二范式：建立在第一范式的基础上，要求数据库表中的每个实例或记录必须可以被唯一地区分，即唯一标识（主键）。非主键完全依赖主键而不能依赖主键的一部分 <span class="comment"># 不依赖主键</span></span><br><span class="line">第三范式：建立在第二范式的基础上，任何非主属性不依赖于其他非主属性，即引用主键。不能存在：非主键列A依赖于非主键列B，非主键列B依赖于主键的情况 <span class="comment"># 任何非主属性不依赖主键</span></span><br><span class="line"></span><br><span class="line">----------</span><br><span class="line">事务：</span><br><span class="line">    原子性：事务中多个操作为一个整体，要么全部执行，要么全部失败，不能执行一部分</span><br><span class="line">    一致性：数据库中不会存在保存不一致的情况</span><br><span class="line">    持久性：一旦提交永久保存</span><br><span class="line">    隔离性：事务提交之前，对其他事务是不可见的</span><br><span class="line">    </span><br><span class="line">美多项目：</span><br><span class="line">    保存订单四个订单四个表同时保存，否则就是暴力回滚</span><br><span class="line">    <span class="comment"># 开启事务</span></span><br><span class="line">    <span class="keyword">with</span> transaction.atomic():</span><br><span class="line">        <span class="comment"># 创建保存点</span></span><br><span class="line">        save_id = transaction.savepoint()</span><br><span class="line">        <span class="comment"># 回滚到保存点</span></span><br><span class="line">        transaction.savepoint_rollback(save_id)</span><br><span class="line">        <span class="comment"># 提交从保存点到当前状态的所有数据库事务操作</span></span><br><span class="line">        transaction.savepoint_commit(save_id)</span><br><span class="line">----------</span><br></pre></td></tr></table></figure>

<h2 id="数据库优化"><a href="#数据库优化" class="headerlink" title="数据库优化"></a>数据库优化</h2><h4 id="01-数据库优化"><a href="#01-数据库优化" class="headerlink" title="01-数据库优化"></a>01-数据库优化</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>mysql使用innodb，支持事务，并发性能更好，内容缓存页优化使得利用率更高</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>禁止使用外键，如果有外键完整性约束，需要应用程序控制，外键会增加表与表之间的耦合，update和delete操作都会涉及相关联的表，十分影响sql的性能</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>索引：是数据库管理系统中一个排序的数据结构，协助快速查询，更新数据库表中数据，索引的实现通常使用B_TREE,B_TREE索引加速了数据访问，因为存储引擎不会再去扫描整张表得到需要的数据；相反，它从根节点开始，根节点保存了子节点的指针，存储引擎会根据指针快速寻找数据</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>分库分表，把一些不经常读的数据放在一张表里，节约磁盘 I/O，主从配置(采用主从复制把数据库的读操作和写入操作分离开来)，双机热备份，主从配置详细</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>不能用select */<span class="keyword">in</span>/<span class="keyword">not</span> <span class="keyword">in</span>/like，会全局搜索，增加cpu、io、net消耗</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>避免where子句中对字段null的判断，会放弃索引从而全局搜索</span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>避免where子句使用!= 或&lt;&gt;，会放弃索引从而全局搜索</span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>避免where子句使用<span class="keyword">or</span>来连接条件，如果一个字段有索引，一个没有索引，将导致引擎放弃使用索引而进行全表扫描</span><br><span class="line"></span><br><span class="line"><span class="number">9.</span>对于多张大数据量的表JOIN，先分页再Join，否则性能很差</span><br><span class="line"></span><br><span class="line">10.严格按照数据库设计范式来设计数据库 ---&gt; 顺带提一下三范式，事务特性</span><br><span class="line">事务的原子性不可拆分，不依赖主键，任何非主属性不依赖主键</span><br><span class="line"></span><br><span class="line"><span class="number">11.</span>缓存型数据库，经常访问到的数据而且不需要经常变化的数据放在缓存中，能节约磁盘IO，redis</span><br><span class="line"></span><br><span class="line"><span class="number">12.</span>优化硬件，采用SSD，使用磁盘队列技术</span><br><span class="line"></span><br><span class="line"><span class="number">13.</span>页面静态化技术和分布式队列celery</span><br><span class="line"></span><br><span class="line"><span class="number">14.</span>隐式转换：对两个数据的比较、计算等如果数据类型不一致，且没有明确的转换数据类型时，数据库为了计算、比较会对某一个数据的数据类型进行隐式的转换。</span><br><span class="line"></span><br><span class="line"><span class="number">15.</span></span><br></pre></td></tr></table></figure>

<h4 id="02-数据库解决高并发"><a href="#02-数据库解决高并发" class="headerlink" title="02-数据库解决高并发"></a>02-数据库解决高并发</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>缓存式的web应用程序架构</span><br><span class="line">	web层和DB层（数据库）层之间加一层cache层，主要目的：减少数据库读取负担，提高数据读取速度，cache的媒介是内存，可以采用分布式cache层</span><br><span class="line">    </span><br><span class="line"><span class="number">2.</span>增加redis缓存数据库</span><br><span class="line"><span class="number">3.</span>增加数据库索引</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>页面静态化技术</span><br><span class="line">	效率最高、消耗最小的就是纯静态化的html页面，所以我们尽可能将网页上经常重复的网页实现静态化处理实现，用户可以直接获取网页，不用想MVC结构走那么多流程，比较适用于页面信息大量被前台程序调用，但是更新率很小的情况，可以结合美多项目说一下</span><br><span class="line">	</span><br><span class="line"><span class="number">5.</span>使用存储过程</span><br><span class="line">	处理一次请求需要多次访问数据库的操作，可以把操作整合到储存过程，只要一次数据库访问即可</span><br><span class="line">    </span><br><span class="line"><span class="number">6.</span>MySQL主从读写分离</span><br><span class="line">	当数据库的写压力曾姐，cache层只能缓解数据库的读取压力，可以使用master-slave模式来达到读写分离，在主服务器上写，从服务器上读，基本原理是让主数据库处理事务性查询，而从数据库处理select查询，数据库复制被用于把事务性查询（增删改）导致的改变更新同步到集群中的从数据库</span><br><span class="line">    </span><br><span class="line"><span class="number">7.</span>分表分库</span><br><span class="line">	</span><br><span class="line"><span class="number">8.</span>负载均衡集群</span><br></pre></td></tr></table></figure>

<h2 id="MySQL查询语句"><a href="#MySQL查询语句" class="headerlink" title="MySQL查询语句"></a>MySQL查询语句</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">select语句完整的执行顺序：</span><br><span class="line">	<span class="keyword">from</span> 子句组装不同数据源的数据</span><br><span class="line">    where 子句基于指定的条件对记录进行筛选</span><br><span class="line">    group by 子句将数据划分为多个分组</span><br><span class="line">    使用聚集函数进行计算count</span><br><span class="line">    使用having子句筛选分组</span><br><span class="line">    计算所有的表达式</span><br><span class="line">    select的字段</span><br><span class="line">    order by进行排序</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    inner join</span><br></pre></td></tr></table></figure>

<p>## </p>
<h2 id="Redis数据库"><a href="#Redis数据库" class="headerlink" title="Redis数据库"></a>Redis数据库</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">redis特点：</span><br><span class="line">	<span class="number">1.</span>虽然是内存型数据库，但也支持数据的持久化，可以将内存的数据保持在磁盘中</span><br><span class="line">	<span class="number">2.</span>支持丰富的数据类型，不单单是键值对，列表，集合，可排序集合，哈希等数据类型</span><br><span class="line">    <span class="number">3.</span>redis支持主从同步数据备份</span><br><span class="line">	<span class="number">4.</span>性能极高，基于C语言编写，读写速度十分快</span><br><span class="line">	<span class="number">5.</span>操作都是原子性的，从而确保两个客户同时访问redis服务器都是最新值</span><br><span class="line">    </span><br><span class="line">redis数据类型：</span><br><span class="line">    哈希hash：特别适合存储对象类型的数据</span><br><span class="line">    	常用命令为：hget，hset，hgetall</span><br><span class="line">    </span><br><span class="line">    列表list：用于存储一个有序的字符串列表，常用操作是往队列两端添加元素或者获得列表的某一片段</span><br><span class="line">    	常用命令：lpush，rpush，lpop，rpop，lrange等</span><br><span class="line">    </span><br><span class="line">    集合set：一组无序的字符集合，set中不会出现重复元素，相同元素只保留一个</span><br><span class="line">    	常用命令：sadd，spop，smembers，sunion等</span><br><span class="line">    </span><br><span class="line">    有序集合zset：有序集合是在集合基础上为每一个元素关联一个分数，redis通过分数为集中的成员进行排序</span><br><span class="line">    	常用命令：zadd，zrange，zrem，zcard</span><br><span class="line">    </span><br><span class="line">    字符串string： 可以包含任何数据，类型为key/value</span><br><span class="line">    	常用命令为：set，get，decr，incr，mget等</span><br><span class="line">    </span><br><span class="line"><span class="comment"># redis一个实例下有16个数据库，从0号数据库开始，默认端口为6379</span></span><br><span class="line"></span><br><span class="line">redis事务：事务是一个单独隔离的操作，也是原子性的，要么全部执行要么全部不执行</span><br><span class="line">开始事务 -&gt; 命令入队 -&gt; 执行事务</span><br></pre></td></tr></table></figure>

<h2 id="redis的特点"><a href="#redis的特点" class="headerlink" title="redis的特点"></a>redis的特点</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">	<span class="number">1.</span>快：C语言实现的，把数据都存储到内存中，在内存中以key/value存储</span><br><span class="line">    <span class="number">2.</span>数据类型多：str、list、set、hash、zset</span><br><span class="line">    <span class="number">3.</span>数据的持久化：</span><br><span class="line">    	持久化：把存储在内存中的数据，写入本地的文件中</span><br><span class="line">    	在redis中默认使用快照（RDB）模式进行数据持久化，以二进制形式写入本地的dump.rdb</span><br><span class="line">    <span class="number">4.</span>主从配置：在主服务器上只进行写的操作，而从的服务器上进行读的操作</span><br><span class="line">    <span class="number">5.</span>分布式，高可用的架构</span><br><span class="line">    	高可用：使用redis自带的哨兵机制</span><br><span class="line">    <span class="number">6.</span>进行事务，发布，订阅模式</span><br><span class="line">    </span><br><span class="line">存储数据：</span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">conn = redis.StricRedis(<span class="string">'127.0.0.1'</span>,<span class="number">6379</span>)</span><br><span class="line">conn.lset(<span class="string">'key'</span>,<span class="string">'name'</span>)</span><br><span class="line">conn.lrange(<span class="string">'key'</span>,<span class="number">0</span>,<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">设置长连接</span><br><span class="line">修改redis.conf</span><br><span class="line">tcp-keepalive = <span class="number">0</span> <span class="comment"># 禁止长连接</span></span><br><span class="line">tcp-keepalive = <span class="number">1</span> <span class="comment"># 启动长连接</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/20/Flask和Django区别/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MrBean">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MrBean">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/20/Flask和Django区别/" itemprop="url">Flask和Django区别</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-06-20T17:26:19+08:00">
                2019-06-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/区别/" itemprop="url" rel="index">
                    <span itemprop="name">区别</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/区别/自学/" itemprop="url" rel="index">
                    <span itemprop="name">自学</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Flask和Django区别"><a href="#Flask和Django区别" class="headerlink" title="Flask和Django区别"></a>Flask和Django区别</h2><p>（1）Flask（Werkzeug/Jinja2模块）</p>
<ul>
<li>Flask确实很“轻”，不愧是Micro Framework，从Django转向Flask的开发者一定会如此感慨，除非二者均为深入使用过</li>
<li>Flask自由、灵活，可扩展性强，第三方库的选择面广，开发时可以结合自己最喜欢用的轮子，也能结合最流行最强大的Python库</li>
<li>入门简单，即便没有多少web开发经验，也能很快做出网站</li>
<li>非常适用于小型网站</li>
<li>非常适用于开发web服务的API</li>
<li>开发大型网站无压力，但代码架构需要自己设计，开发成本取决于开发者的能力和经验</li>
<li>各方面性能均等于或优于Django</li>
<li>Django自带的或第三方的好评如潮的功能，Flask上总会找到与之类似第三方库</li>
<li>Flask灵活开发，Python高手基本都会喜欢Flask，但对Django却可能褒贬不一</li>
<li>Flask与关系型数据库的配合使用不弱于Django，而其与NoSQL数据库的配合远远优于Django</li>
<li>Flask比Django更加Pythonic，与Python的philosophy更加吻合</li>
</ul>
<p>（2）Django</p>
<ul>
<li>Django太重了，除了web框架，自带ORM和模板引擎，灵活和自由度不够高</li>
<li>Django能开发小应用，但总会有“杀鸡焉用牛刀”的感觉</li>
<li>Django的自带ORM非常优秀，综合评价略高于SQLAlchemy</li>
<li>Django自带的模板引擎简单好用，但其强大程度和综合评价略低于Jinja</li>
<li>Django自带ORM也使Django与关系型数据库耦合度过高，如果想使用MongoDB等NoSQL数据，需要选取合适的第三方库，且总感觉Django+SQL才是天生一对的搭配，Django+NoSQL砍掉了Django的半壁江山</li>
<li>Django目前支持Jinja等非官方模板引擎</li>
<li>Django自带的数据库管理app好评如潮</li>
<li>Django非常适合企业级网站的开发：快速、靠谱、稳定</li>
<li>Django成熟、稳定、完善，但相比于Flask，Django的整体生态相对封闭</li>
<li>Django是Python web框架的先驱，用户多，第三方库最丰富，最好的Python库，如果不能直接用到Django中，也一定能找到与之对应的移植</li>
<li>Django上手也比较容易，开发文档详细、完善，相关资料丰富</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">MrBean</p>
              <p class="site-description motion-element" itemprop="description">豆桑的Blog,关于Python关于学习</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">MrBean</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
